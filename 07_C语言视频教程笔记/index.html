

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/road2dasheng/img/little-stone-monkey.jpg">
  <link rel="icon" href="/road2dasheng/img/little-stone-monkey.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="zhawb">
  <meta name="keywords" content="自信 自尊 自强">
  
    <meta name="description" content="The C Programming Language!">
<meta property="og:type" content="article">
<meta property="og:title" content="C语言入门视频教程-笔记">
<meta property="og:url" content="https://little_stone_monkey.gitee.io/road2dasheng/07_C%E8%AF%AD%E8%A8%80%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Road2dasheng">
<meta property="og:description" content="The C Programming Language!">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://little_stone_monkey.gitee.io/road2dasheng/img/07/07_00.jpg">
<meta property="article:published_time" content="2023-03-24T05:31:48.477Z">
<meta property="article:modified_time" content="2023-03-24T05:41:22.719Z">
<meta property="article:author" content="zhawb">
<meta property="article:tag" content="编程语言">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://little_stone_monkey.gitee.io/road2dasheng/img/07/07_00.jpg">
  
  
  
  <title>C语言入门视频教程-笔记 - Road2dasheng</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/road2dasheng/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/road2dasheng/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/road2dasheng/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"little_stone_monkey.gitee.io","root":"/road2dasheng/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/road2dasheng/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/road2dasheng/js/utils.js" ></script>
  <script  src="/road2dasheng/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/road2dasheng/">
      <strong>Little-stone-monkey</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/road2dasheng/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/road2dasheng/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/road2dasheng/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/road2dasheng/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/road2dasheng/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>联系我</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/road2dasheng/img/road2dasheng.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="C语言入门视频教程-笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-24 13:31" pubdate>
          2023年3月24日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          71k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          596 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">C语言入门视频教程-笔记</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="C语言视频教程笔记"><a href="#C语言视频教程笔记" class="headerlink" title="C语言视频教程笔记"></a><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1vs411n7TH/?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click&vd_source=ce97f8ebe1ffd37a2e287328d33d93b1">C语言视频教程</a>笔记</h2><h3 id="一、C语言概述"><a href="#一、C语言概述" class="headerlink" title="一、C语言概述"></a>一、C语言概述</h3><h4 id="1-1-什么是C语言"><a href="#1-1-什么是C语言" class="headerlink" title="1.1 什么是C语言"></a>1.1 什么是C语言</h4><blockquote>
<p>语言是人和人交流，C语言是人和机器交流</p>
</blockquote>
<h4 id="1-2-为什么要学习C语言"><a href="#1-2-为什么要学习C语言" class="headerlink" title="1.2 为什么要学习C语言"></a>1.2 为什么要学习C语言</h4><h5 id="1-2-1-C语言的特点"><a href="#1-2-1-C语言的特点" class="headerlink" title="1.2.1 C语言的特点"></a>1.2.1 C语言的特点</h5><blockquote>
<p>优点：</p>
<ul>
<li><p>代码量小</p>
</li>
<li><p>执行速度快</p>
</li>
<li><p>功能强大</p>
</li>
<li><p>编程自由</p>
</li>
</ul>
</blockquote>
<blockquote>
<p>缺点：</p>
<ul>
<li><p>写代码实现周期长</p>
</li>
<li><p>可移植性较差</p>
</li>
<li><p>过于自由，经验不足易出错</p>
</li>
<li><p>对平台库依赖较多</p>
</li>
</ul>
</blockquote>
<h5 id="1-2-2-学习C语言的理由"><a href="#1-2-2-学习C语言的理由" class="headerlink" title="1.2.2 学习C语言的理由"></a>1.2.2 学习C语言的理由</h5><blockquote>
<p><img src="/road2dasheng/img/07/image-20230321181200852.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321181200852"></p>
</blockquote>
<h5 id="1-2-3-C语言的应用领域"><a href="#1-2-3-C语言的应用领域" class="headerlink" title="1.2.3 C语言的应用领域"></a>1.2.3 C语言的应用领域</h5><blockquote>
<p>C语言的应用极其广泛，从网站后台，到底层操作系统，从多媒体应用到大型网络游戏，均可使用C语言来开发：</p>
<ul>
<li>C语言可以写网站后台程序</li>
<li>C语言可以专门针对某个主题写出功能强大的程序库</li>
<li>C语言可以写出大型游戏的引擎</li>
<li>C语言可以写出另一个语言来</li>
<li>C语言可以写操作系统和驱动程序，并且只能用C语言编写</li>
<li>任何设备只要配置了微处理器，就都支持C语言。从微波炉到手机，都是由C语言技术来推动的</li>
</ul>
</blockquote>
<blockquote>
<p><img src="/road2dasheng/img/07/image-20230321181435144.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321181435144"></p>
</blockquote>
<h5 id="1-2-4-C语言的简洁"><a href="#1-2-4-C语言的简洁" class="headerlink" title="1.2.4 C语言的简洁"></a>1.2.4 C语言的简洁</h5><blockquote>
<p>C语言仅有32个关键字，9种控制语句，34种运算符，却能完成无数的功能：</p>
<p><img src="/road2dasheng/img/07/clip_image002.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-05-31_173134"></p>
<p><img src="/road2dasheng/img/07/clip_image002-16793937499352.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-05-31_173306"></p>
<p><img src="/road2dasheng/img/07/clip_image002-16793937756104.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-05-31_173424"></p>
</blockquote>
<h5 id="1-2-5-学习C语言的困惑"><a href="#1-2-5-学习C语言的困惑" class="headerlink" title="1.2.5 学习C语言的困惑"></a>1.2.5 学习C语言的困惑</h5><blockquote>
<p><img src="/road2dasheng/img/07/clip_image002-16793938117976.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-05-31_171501"></p>
</blockquote>
<h4 id="1-3-第一个C语言程序"><a href="#1-3-第一个C语言程序" class="headerlink" title="1.3 第一个C语言程序"></a>1.3 第一个C语言程序</h4><h5 id="1-3-1-编写C语言代码"><a href="#1-3-1-编写C语言代码" class="headerlink" title="1.3.1 编写C语言代码"></a>1.3.1 编写C语言代码</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello world\n&quot;</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>C语言的源代码文件是一个普通的文本文件，但扩展名必须是.c。</p>
</blockquote>
<h5 id="1-3-2-通过gcc编译C代码"><a href="#1-3-2-通过gcc编译C代码" class="headerlink" title="1.3.2 通过gcc编译C代码"></a>1.3.2 通过gcc编译C代码</h5><p>（1）gcc编译器介绍</p>
<blockquote>
<ul>
<li><p>编译器是将易于编写、阅读和维护的高级计算机语言翻译为计算机能解读、运行的低级机器语言的程序。</p>
</li>
<li><p>gcc（GNU Compiler Collection，GNU 编译器套件），是由 GNU 开发的编程语言编译器。gcc原本作为GNU操作系统的官方编译器，现已被大多数类Unix操作系统（如Linux、BSD、Mac OS X等）采纳为标准的编译器，gcc同样适用于微软的Windows。</p>
</li>
<li><p>gcc最初用于编译C语言，随着项目的发展gcc已经成为了能够编译C、C++、Java、Ada、fortran、Object C、Object C++、Go语言的编译器大家族。</p>
</li>
</ul>
</blockquote>
<blockquote>
<p>编译器命令格式</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">gcc [-option1] ... <span class="hljs-tag">&lt;<span class="hljs-name">filename</span>&gt;</span><br>g++ [-option1] ... <span class="hljs-tag">&lt;<span class="hljs-name">filename</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>命令、选项和源文件之间使用空格分隔</li>
<li>一行命令中可以有零个、一个或多个选项</li>
<li>文件名可以包含文件的绝对路径，也可以使用相对路径</li>
<li>如果命令中不包含输出可执行文件的文件名，可执行文件的文件名会自动生成一个默认名，Linux平台为a.out，Windows平台为a.exe</li>
</ul>
<p><img src="/road2dasheng/img/07/image-20230321183915817.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321183915817"></p>
</blockquote>
<p>（2）Windows平台下gcc环境配置</p>
<blockquote>
<ul>
<li>windows命令行界面下，默认是没有gcc编译器，我们需要配置一下环境。由于我们安装了Qt，Qt是一个集成开发环境，内部集成gcc编译器，配置一下环境变量即可使用gcc。</li>
</ul>
</blockquote>
<h5 id="1-3-3-代码分析"><a href="#1-3-3-代码分析" class="headerlink" title="1.3.3 代码分析"></a>1.3.3 代码分析</h5><p>（1）include头文件包含</p>
<blockquote>
<ul>
<li><p>‘#include’的意思是头文件包含，’#include &lt;stdio.h&gt;’代表包含stdio.h这个头文件</p>
</li>
<li><p>使用C语言库函数需要提前包含库函数对应的头文件，如这里使用了printf()函数，需要包含stdio.h头文件</p>
</li>
<li><p>可以通过man 3 printf查看printf所需的头文件</p>
</li>
</ul>
</blockquote>
<p>#include&lt; &gt; 与 #include “”的区别：</p>
<blockquote>
<ul>
<li>&lt; &gt; 表示系统直接按系统指定的目录检索</li>
<li>“” 表示系统先在 “” 指定的路径(没写路径代表当前路径)查找头文件，如果找不到，再按系统指定的目录检索</li>
</ul>
</blockquote>
<p>（2）main函数</p>
<blockquote>
<ul>
<li>一个完整的C语言程序，是由一个、且只能有一个main()函数(又称主函数，必须有)和若干个其他函数结合而成（可选）。</li>
<li>main函数是C语言程序的入口，程序是从main函数开始执行。</li>
</ul>
</blockquote>
<p>（3）{} 括号，程序体和代码块</p>
<blockquote>
<ul>
<li>{}叫代码块，一个代码块内部可以有一条或者多条语句</li>
<li>C语言每句可执行代码都是”<strong>;</strong>“分号结尾</li>
<li>所有的#开头的行，都代表预编译指令，预编译指令行结尾是没有分号的</li>
<li>所有的可执行语句必须是在代码块里面</li>
</ul>
</blockquote>
<p>（4）注释</p>
<blockquote>
<ul>
<li>&#x2F;&#x2F;叫行注释，注释的内容编译器是忽略的，注释主要的作用是在代码中加一些说明和解释，这样有利于代码的阅读</li>
<li>&#x2F;**&#x2F;叫块注释</li>
<li>块注释是C语言标准的注释方法</li>
<li>行注释是从C++语言借鉴过来的</li>
</ul>
</blockquote>
<p>（5）printf函数</p>
<blockquote>
<ul>
<li>printf是C语言库函数，功能是向标准输出设备输出一个字符串</li>
<li>printf(“hello world\n”);&#x2F;&#x2F;\n的意思是回车换行</li>
</ul>
</blockquote>
<p>（6） return语句</p>
<blockquote>
<ul>
<li>return代表函数执行完毕，返回return代表函数的终止</li>
<li>如果main定义的时候前面是int，那么return后面就需要写一个整数；如果main定义的时候前面是void，那么return后面什么也不需要写</li>
<li>在main函数中return 0代表程序执行成功，return -1代表程序执行失败</li>
<li>int main()和void main()在C语言中是一样的，但C++只接受int main这种定义方式</li>
</ul>
</blockquote>
<h4 id="1-4-system函数"><a href="#1-4-system函数" class="headerlink" title="1.4 system函数"></a>1.4 system函数</h4><h5 id="1-4-1-system函数的使用"><a href="#1-4-1-system函数的使用" class="headerlink" title="1.4.1 system函数的使用"></a>1.4.1 system函数的使用</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">system</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *command)</span>;<br>功能：在已经运行的程序中执行另外一个外部程序<br>参数：外部可执行程序名字<br>返回值：<br>       成功：<span class="hljs-number">0</span><br>       失败：任意数字<br><br>example:<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    system(<span class="hljs-string">&quot;calc&quot;</span>);<span class="hljs-comment">//windows平台</span><br>    <span class="hljs-comment">//system(&quot;ls&quot;);//Linux平台</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>；<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="1-5-C语言编译过程"><a href="#1-5-C语言编译过程" class="headerlink" title="1.5 C语言编译过程"></a>1.5 C语言编译过程</h4><h5 id="1-5-1-C程序编译步骤"><a href="#1-5-1-C程序编译步骤" class="headerlink" title="1.5.1 C程序编译步骤"></a>1.5.1 C程序编译步骤</h5><blockquote>
<ul>
<li><p>1）预处理：宏定义展开、头文件展开、条件编译等，同时将代码中的注释删除，这里并不会检查语法</p>
</li>
<li><p>2）编译：检查语法，将预处理后文件编译生成汇编文件</p>
</li>
<li><p>3）汇编：将汇编文件生成目标文件(二进制文件)</p>
</li>
<li><p>4）链接：C语言写的程序是需要依赖各种库的，所以编译之后还需要把库链接到最终的可执行程序中去</p>
</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230321191448496.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321191448496"></p>
<h5 id="1-5-2-gcc编译过程"><a href="#1-5-2-gcc编译过程" class="headerlink" title="1.5.2 gcc编译过程"></a>1.5.2 gcc编译过程</h5><p>（1）分布编译</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">预处理：gcc -E hello.c -o hello.i<br>编译：  gcc -S hello.i -o hello.s<br>汇编：  gcc -c hello.s -o hello.o<br>链接：  gcc    hello.o -o hello<br></code></pre></td></tr></table></figure>

<blockquote>
<p><img src="/road2dasheng/img/07/image-20230321220445516.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321220445516"></p>
</blockquote>
<p>（2）一步编译</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">gcc hello.c -o demo <span class="hljs-regexp">//</span>还是经过：预处理、编译、汇编、链接的过程<br></code></pre></td></tr></table></figure>

<h5 id="1-5-3-查找程序所依赖的动态库"><a href="#1-5-3-查找程序所依赖的动态库" class="headerlink" title="1.5.3 查找程序所依赖的动态库"></a>1.5.3 查找程序所依赖的动态库</h5><blockquote>
<ul>
<li>Windows平台下，需要相应软件(Depends.exe)</li>
</ul>
</blockquote>
<h4 id="1-6-CPU内部结构与寄存器（了解）"><a href="#1-6-CPU内部结构与寄存器（了解）" class="headerlink" title="1.6 CPU内部结构与寄存器（了解）"></a>1.6 CPU内部结构与寄存器（了解）</h4><h5 id="1-6-1-64位和32位系统的区别"><a href="#1-6-1-64位和32位系统的区别" class="headerlink" title="1.6.1 64位和32位系统的区别"></a>1.6.1 64位和32位系统的区别</h5><blockquote>
<ul>
<li>寄存器是CPU内部最基本的存储单元</li>
<li>CPU对外是通过总线(地址、控制、数据)来和外部设备交互的，总线的宽度是8位，同时CPU的寄存器也是8位，那么这个CPU就叫8位CPU</li>
<li>如果总线是32位，寄存器也是32位的，那么这个CPU就是32位CPU</li>
<li>有一种CPU内部的寄存器是32位的，但总线是16位，准32位CPU</li>
<li>所有的64位CPU兼容32位的指令，32位要兼容16位的指令，所以在64位的CPU上是可以识别32位的指令</li>
<li>在64位的CPU构架上运行了64位的软件操作系统，那么这个系统是64位</li>
<li>在64位的CPU构架上，运行了32位的软件操作系统，那么这个系统就是32位</li>
<li>64位的软件不能运行在32位的CPU之上</li>
</ul>
</blockquote>
<h5 id="1-6-2-寄存器名字（了解）"><a href="#1-6-2-寄存器名字（了解）" class="headerlink" title="1.6.2 寄存器名字（了解）"></a>1.6.2 寄存器名字（了解）</h5><p><img src="/road2dasheng/img/07/image-20230321221132971.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321221132971"></p>
<h5 id="1-6-3-寄存器、缓存、内存三者关系"><a href="#1-6-3-寄存器、缓存、内存三者关系" class="headerlink" title="1.6.3 寄存器、缓存、内存三者关系"></a>1.6.3 寄存器、缓存、内存三者关系</h5><blockquote>
<ul>
<li>按与CPU远近来分，离得最近的是寄存器，然后缓存(CPU缓存)，最后内存，即CPU&lt;—&gt;寄存器&lt;—&gt; 缓存 &lt;—&gt; 内存。</li>
<li>CPU计算时，先预先把要用的数据从硬盘读到内存，然后再把即将要用的数据读到寄存器。于是 CPU&lt;—&gt;寄存器&lt;—&gt;内存，这就是它们之间的信息交换。</li>
<li>为什么有缓存呢？因为如果经常操作内存中的同一地址的数据，就会影响速度。于是就在寄存器与内存之间设置一个缓存。因为从缓存提取的速度远高于内存。当然缓存的价格肯定远远高于内存，不然的话，机器里就没有内存的存在。</li>
</ul>
</blockquote>
<h4 id="1-7-汇编语言"><a href="#1-7-汇编语言" class="headerlink" title="1.7 汇编语言"></a>1.7 汇编语言</h4><h4 id="1-8-集成开发环境IDE"><a href="#1-8-集成开发环境IDE" class="headerlink" title="1.8 集成开发环境IDE"></a>1.8 集成开发环境IDE</h4><blockquote>
<ul>
<li>集成开发环境（IDE，Integrated Development Environment ）是用于提供程序开发环境的应用程序，一般包括代码编辑器、编译器、调试器和图形用户界面工具。集成了代码编写功能、分析功能、编译功能、调试功能等一体化的开发软件服务套。所有具备这一特性的软件或者软件套（组）都可以叫集成开发环境。</li>
</ul>
</blockquote>
<h5 id="1-8-1-Qt-Creator"><a href="#1-8-1-Qt-Creator" class="headerlink" title="1.8.1 Qt Creator"></a>1.8.1 Qt Creator</h5><blockquote>
<ul>
<li>Qt Creator是跨平台的 Qt IDE， Qt Creator 是 Qt 被 Nokia 收购后推出的一款新的轻量级集成开发环境（IDE）。此 IDE 能够跨平台运行，支持的系统包括 Linux（32 位及 64 位）、Mac OS X 以及 Windows。根据官方描述，Qt Creator 的设计目标是使开发人员能够利用 Qt 这个应用程序框架更加快速及轻易的完成开发任务。</li>
</ul>
</blockquote>
<h5 id="1-8-2-Microsoft-Visual-Studio"><a href="#1-8-2-Microsoft-Visual-Studio" class="headerlink" title="1.8.2 Microsoft Visual Studio"></a>1.8.2 Microsoft Visual Studio</h5><blockquote>
<ul>
<li>Microsoft Visual Studio（简称VS）是美国微软公司的开发工具包系列产品。VS是一个基本完整的开发工具集，它包括了整个软件生命周期中所需要的大部分工具，如UML工具、代码管控工具、集成开发环境(IDE)等等,所写的目标代码适用于微软支持的所有平台。Visual Studio是目前最流行的Windows平台应用程序的集成开发环境。</li>
</ul>
</blockquote>
<hr>
<h3 id="二、数据类型"><a href="#二、数据类型" class="headerlink" title="二、数据类型"></a>二、数据类型</h3><h4 id="2-1-常量与变量"><a href="#2-1-常量与变量" class="headerlink" title="2.1 常量与变量"></a>2.1 常量与变量</h4><h5 id="2-1-1-关键字"><a href="#2-1-1-关键字" class="headerlink" title="2.1.1 关键字"></a>2.1.1 关键字</h5><blockquote>
<p><img src="/road2dasheng/img/07/clip_image002-16794084935541.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-01_125457"></p>
</blockquote>
<h5 id="2-1-2-数据类型"><a href="#2-1-2-数据类型" class="headerlink" title="2.1.2 数据类型"></a>2.1.2 数据类型</h5><blockquote>
<p>数据类型的作用：编译器预算对象（变量）分配的内存空间大小</p>
<p><img src="/road2dasheng/img/07/clip_image002-16794085492393.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-01_125610"></p>
</blockquote>
<h5 id="2-1-3-常量"><a href="#2-1-3-常量" class="headerlink" title="2.1.3 常量"></a>2.1.3 常量</h5><blockquote>
<ul>
<li>在程序运行过程中，其值不能被改变的量</li>
<li>常量一般出现在表达式或赋值语句中</li>
</ul>
</blockquote>
<blockquote>
<p><img src="/road2dasheng/img/07/image-20230321222341675.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321222341675"></p>
</blockquote>
<h5 id="2-1-4-变量"><a href="#2-1-4-变量" class="headerlink" title="2.1.4 变量"></a>2.1.4 变量</h5><p>（1）变量</p>
<blockquote>
<ul>
<li>在程序运行过程中，其值可以改变</li>
<li>&#x3D;&#x3D;变量在使用前必须先定义，定义变量前必须有相应的数据类型&#x3D;&#x3D;</li>
</ul>
</blockquote>
<p>（2）标识符命名规则</p>
<blockquote>
<ul>
<li>标识符不能是关键字</li>
<li>标识符只能由字母、数字、下划线组成</li>
<li>第一个字符必须为字母或下划线</li>
<li>标识符中字母区分大小写</li>
</ul>
</blockquote>
<p>（3）特点</p>
<blockquote>
<ul>
<li>变量在编译时为其分配相应的内存空间</li>
<li>可以通过其名字和地址访问相应内存</li>
</ul>
</blockquote>
<blockquote>
<p><img src="/road2dasheng/img/07/clip_image002-16794088746195.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-05-29_200452_副本"></p>
</blockquote>
<p>（4）声明和定义区别</p>
<blockquote>
<ul>
<li>声明变量不需要建立存储空间，如：extern int a;</li>
<li>定义变量需要建立存储空间，如：int b;</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-comment">//extern 关键字只做声明，不能做任何定义</span><br>    <span class="hljs-comment">//声明一个变量a，a在这里没有建立存储空间</span><br>    <span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> a;<br>    a = <span class="hljs-number">10</span>;<span class="hljs-comment">//err,没有空间，就不可以赋值</span><br>    <br>    <span class="hljs-type">int</span> b=<span class="hljs-number">10</span>; <span class="hljs-comment">//定义一个变量b,b的类型为int,b赋值为10</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>从广义的角度来讲声明中包含着定义，即定义是声明的一个特例，所以并非所有的声明都是定义</p>
<ul>
<li>int b 它既是声明，同时又是定义</li>
<li>对于 extern b来讲它只是声明不是定义</li>
</ul>
<p>一般的情况下，把建立存储空间的声明称之为“定义”，而把不需要建立存储空间的声明称之为“声明”。</p>
</blockquote>
<h4 id="2-2-整型：int"><a href="#2-2-整型：int" class="headerlink" title="2.2 整型：int"></a>2.2 整型：int</h4><h5 id="2-2-1-整型变量的定义和输出"><a href="#2-2-1-整型变量的定义和输出" class="headerlink" title="2.2.1 整型变量的定义和输出"></a>2.2.1 整型变量的定义和输出</h5><p><img src="/road2dasheng/img/07/image-20230321224018975.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321224018975"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">123</span>; <span class="hljs-comment">//定义变量a，以10进制方式赋值为123</span><br>    <span class="hljs-type">int</span> b = <span class="hljs-number">0567</span>; <span class="hljs-comment">//定义变量b，以8进制方式赋值为0567</span><br>    <span class="hljs-type">int</span> c = <span class="hljs-number">0xabc</span>; <span class="hljs-comment">//定义变量c，以16进制方式赋值为0xabc</span><br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;8进制：b = %o\n&quot;</span>, b);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;10进制：b = %d\n&quot;</span>, b);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;16进制：c = %x\n&quot;</span>, c);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;16进制：c = %X\n&quot;</span>, c);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;10进制：c = %d\n&quot;</span>, c);<br><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> d = <span class="hljs-number">0xffffffff</span>; <span class="hljs-comment">//定义无符号int变量d，以16进制方式赋值</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;有符号方式打印：d = %d\n&quot;</span>, d);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;无符号方式打印：d = %u\n&quot;</span>, d);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-2-2-整型变量的输入"><a href="#2-2-2-整型变量的输入" class="headerlink" title="2.2.2 整型变量的输入"></a>2.2.2 整型变量的输入</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入a的值：&quot;</span>);<br><br>	<span class="hljs-comment">//不要加“\n”</span><br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a); <span class="hljs-comment">//打印a的值</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-2-3-short、int、long、longlong"><a href="#2-2-3-short、int、long、longlong" class="headerlink" title="2.2.3 short、int、long、longlong"></a>2.2.3 short、int、long、longlong</h5><p><img src="/road2dasheng/img/07/image-20230321224649437.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321224649437"></p>
<blockquote>
<ul>
<li>需要注意的是，整型数据在内存中占的字节数与所选择的操作系统有关。虽然 C 语言标准中没有明确规定整型数据的长度，但 long 类型整数的长度不能短于 int 类型， short 类型整数的长度不能长于 int 类型。</li>
<li>当一个小的数据类型赋值给一个大的数据类型，不会出错，因为编译器会自动转化。但当一个大的类型赋值给一个小的数据类型，那么就可能丢失高位。</li>
</ul>
<p><img src="/road2dasheng/img/07/image-20230321224924453.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321224924453"><img src="/road2dasheng/img/07/image-20230321224955016.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321224955016"></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">short</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">10</span>;<br>	<span class="hljs-type">long</span> c = <span class="hljs-number">10l</span>; <span class="hljs-comment">//或者10L</span><br>	<span class="hljs-type">long</span> <span class="hljs-type">long</span> d = <span class="hljs-number">10ll</span>; <span class="hljs-comment">//或者10LL</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(a) = %u\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a));<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(b) = %u\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(b));<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(c) = %u\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(c));<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(c) = %u\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(d));<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;short a = %hd\n&quot;</span>, a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;int b = %d\n&quot;</span>, b);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;long c = %ld\n&quot;</span>, c);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;long long d = %lld\n&quot;</span>, d);<br><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">short</span> a2 = <span class="hljs-number">20u</span>;<br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> b2 = <span class="hljs-number">20u</span>;<br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> c2= <span class="hljs-number">20ul</span>; <br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> d2 = <span class="hljs-number">20ull</span>; <br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;unsigned short a = %hu\n&quot;</span>, a2);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;unsigned int b = %u\n&quot;</span>, b2);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;unsigned long c = %lu\n&quot;</span>, c2);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;unsigned long long d = %llu\n&quot;</span>, d2);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-2-4-有符号数和无符号数的区别"><a href="#2-2-4-有符号数和无符号数的区别" class="headerlink" title="2.2.4 有符号数和无符号数的区别"></a>2.2.4 有符号数和无符号数的区别</h5><p>（1）有符号数</p>
<blockquote>
<ul>
<li>有符号数是最高位为符号位，0代表正数，1代表负数</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">signed</span> <span class="hljs-type">int</span> a = <span class="hljs-number">-1089474374</span>; <span class="hljs-comment">//定义有符号整型变量a</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%X\n&quot;</span>, a); <span class="hljs-comment">//结果为 BF0FF0BA</span><br><br>	<span class="hljs-comment">//B    F    0    F    F    0    B	 A</span><br>	<span class="hljs-comment">//1011 1111 0000 1111 1111 0000 1011 1010</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）无符号数</p>
<blockquote>
<ul>
<li>无符号数最高位不是符号位，而就是数的一部分，无符号数不可能是负数。</li>
<li>当我们写程序要处理一个不可能出现负值的时候，一般用无符号数，这样可以增大数的表达最大值。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> a = <span class="hljs-number">3236958022</span>; <span class="hljs-comment">//定义无符号整型变量a</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%X\n&quot;</span>, a); <span class="hljs-comment">//结果为 C0F00F46</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（3）有符号和无符号整型取值范围</p>
<p><img src="/road2dasheng/img/07/image-20230321230117853.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230321230117853"></p>
<h4 id="2-3-sizeof关键字"><a href="#2-3-sizeof关键字" class="headerlink" title="2.3 sizeof关键字"></a>2.3 sizeof关键字</h4><blockquote>
<ul>
<li>sizeof不是函数，所以不需要包含任何头文件，它的功能是计算一个数据类型的大小，单位为字节</li>
<li>sizeof的返回值为size_t</li>
<li>size_t类型在32位操作系统下是unsigned int，是一个无符号的整数</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a;<br>	<span class="hljs-type">int</span> b = <span class="hljs-keyword">sizeof</span>(a);<span class="hljs-comment">//sizeof得到指定值占用内存的大小，单位：字节</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;b = %d\n&quot;</span>, b);<br><br>	<span class="hljs-type">size_t</span> c = <span class="hljs-keyword">sizeof</span>(a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;c = %u\n&quot;</span>, c);<span class="hljs-comment">//用无符号数的方式输出c的值</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-4-字符型：char"><a href="#2-4-字符型：char" class="headerlink" title="2.4 字符型：char"></a>2.4 字符型：char</h4><h5 id="2-4-1-字符变量的定义和输出"><a href="#2-4-1-字符变量的定义和输出" class="headerlink" title="2.4.1 字符变量的定义和输出"></a>2.4.1 字符变量的定义和输出</h5><blockquote>
<ul>
<li>字符型变量用于存储一个单一字符，在 C 语言中用 char 表示，其中每个字符变量都会占用 1 个字节。在给字符型变量赋值时，需要用一对英文半角格式的单引号(‘ ‘)把字符括起来。</li>
<li>字符变量实际上并不是把该字符本身放到变量的内存单元中去，而是将该字符对应的 ASCII 编码放到变量的存储单元中。&#x3D;&#x3D;char的本质就是一个1字节大小的整型。&#x3D;&#x3D;</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> ch = <span class="hljs-string">&#x27;a&#x27;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(ch) = %u\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(ch));<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ch[%%c] = %c\n&quot;</span>, ch); <span class="hljs-comment">//打印字符</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ch[%%d] = %d\n&quot;</span>, ch); <span class="hljs-comment">//打印‘a’ ASCII的值</span><br><br>	<span class="hljs-type">char</span> A = <span class="hljs-string">&#x27;A&#x27;</span>;<br>	<span class="hljs-type">char</span> a = <span class="hljs-string">&#x27;a&#x27;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);		<span class="hljs-comment">//97</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;A = %d\n&quot;</span>, A);	<span class="hljs-comment">//65</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;A = %c\n&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span> - <span class="hljs-number">32</span>); <span class="hljs-comment">//小写a转大写A</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %c\n&quot;</span>, <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">32</span>); <span class="hljs-comment">//大写A转小写a</span><br><br>	ch = <span class="hljs-string">&#x27; &#x27;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;空字符：%d\n&quot;</span>, ch); <span class="hljs-comment">//空字符ASCII的值为32</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;A = %c\n&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span> - <span class="hljs-string">&#x27; &#x27;</span>); <span class="hljs-comment">//小写a转大写A</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %c\n&quot;</span>, <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-string">&#x27; &#x27;</span>); <span class="hljs-comment">//大写A转小写a</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-4-2-字符变量的输入"><a href="#2-4-2-字符变量的输入" class="headerlink" title="2.4.2 字符变量的输入"></a>2.4.2 字符变量的输入</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> ch;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入ch的值：&quot;</span>);<br><br>	<span class="hljs-comment">//不要加“\n”</span><br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c&quot;</span>, &amp;ch);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ch = %c\n&quot;</span>, ch); <span class="hljs-comment">//打印ch的字符</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-4-3-ASCII码表"><a href="#2-4-3-ASCII码表" class="headerlink" title="2.4.3 ASCII码表"></a>2.4.3 ASCII码表</h5><p><img src="/road2dasheng/img/07/image-20230322002314728.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322002314728"></p>
<blockquote>
<p>ASCII 码大致由以下两部分组成：</p>
<ul>
<li><p>ASCII 非打印控制字符： ASCII 表上的数字 0-31 分配给了控制字符，用于控制像打印机等一些外围设备。</p>
</li>
<li><p>ASCII 打印字符：数字 32-126 分配给了能在键盘上找到的字符，当查看或打印文档时就会出现。数字 127 代表 Del 命令。</p>
</li>
</ul>
</blockquote>
<h5 id="2-4-4-转义字符"><a href="#2-4-4-转义字符" class="headerlink" title="2.4.4 转义字符"></a>2.4.4 转义字符</h5><p><img src="/road2dasheng/img/07/image-20230322002513256.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322002513256"></p>
<blockquote>
<ul>
<li>注意：红色字体标注的为不可打印字符。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abc&quot;</span>);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\refg\n&quot;</span>); <span class="hljs-comment">//\r切换到句首， \n为换行键</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abc&quot;</span>);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\befg\n&quot;</span>);<span class="hljs-comment">//\b为退格键， \n为换行键</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-string">&#x27;\123&#x27;</span>);<span class="hljs-comment">// &#x27;\123&#x27;为8进制转义字符，0123对应10进制数为83</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-string">&#x27;\x23&#x27;</span>);<span class="hljs-comment">// &#x27;\x23&#x27;为16进制转义字符，0x23对应10进制数为35</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-5-实型-浮点型-：float、double"><a href="#2-5-实型-浮点型-：float、double" class="headerlink" title="2.5 实型(浮点型)：float、double"></a>2.5 实型(浮点型)：float、double</h4><blockquote>
<ul>
<li>实型变量也可以称为浮点型变量，浮点型变量是用来存储小数数值的。</li>
<li>在C语言中， 浮点型变量分为两种： 单精度浮点数(float)、 双精度浮点数(double)， 但是double型变量所表示的浮点数比 float 型变量更精确。</li>
<li>由于浮点型变量是由有限的存储单元组成的，因此只能提供有限的有效数字。在有效位以外的数字将被舍去，这样可能会产生一些误差。</li>
<li>不以f结尾的常量是double类型，以f结尾的常量(如3.14f)是float类型。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//传统方式赋值</span><br>	<span class="hljs-type">float</span> a = <span class="hljs-number">3.14f</span>; <span class="hljs-comment">//或3.14F</span><br>	<span class="hljs-type">double</span> b = <span class="hljs-number">3.14</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %f\n&quot;</span>, a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;b = %lf\n&quot;</span>, b);<br><br>	<span class="hljs-comment">//科学法赋值</span><br>	a = <span class="hljs-number">3.2e3</span>f; <span class="hljs-comment">//3.2*1000 = 3200，e可以写E</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a1 = %f\n&quot;</span>, a);<br><br>	a = <span class="hljs-number">100e-3</span>f; <span class="hljs-comment">//100*0.001 = 0.1</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a2 = %f\n&quot;</span>, a);<br><br>	a = <span class="hljs-number">3.1415926f</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a3 = %f\n&quot;</span>, a); <span class="hljs-comment">//结果为3.141593</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-6-进制"><a href="#2-6-进制" class="headerlink" title="2.6 进制"></a>2.6 进制</h4><blockquote>
<ul>
<li>进制也就是进位制，是人们规定的一种进位方法。 对于任何一种进制—X进制，就表示某一位置上的数运算时是逢X进一位。 十进制是逢十进一，十六进制是逢十六进一，二进制就是逢二进一，以此类推，x进制就是逢x进位。</li>
</ul>
</blockquote>
<h5 id="2-6-1-二进制"><a href="#2-6-1-二进制" class="headerlink" title="2.6.1 二进制"></a>2.6.1 二进制</h5><blockquote>
<ul>
<li>二进制是计算技术中广泛采用的一种数制。</li>
<li>二进制数据是用0和1两个数码来表示的数。它的基数为2，进位规则是“逢二进一”，借位规则是“借一当二”。</li>
<li>当前的计算机系统使用的基本上是二进制系统，&#x3D;&#x3D;数据在计算机中主要是以补码的形式存储的。&#x3D;&#x3D;</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322145156030.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322145156030"></p>
<p><img src="/road2dasheng/img/07/image-20230322145422200.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322145422200"></p>
<h5 id="2-6-2-八进制"><a href="#2-6-2-八进制" class="headerlink" title="2.6.2 八进制"></a>2.6.2 八进制</h5><blockquote>
<ul>
<li>八进制，Octal，缩写OCT或O，一种以8为基数的计数法</li>
<li>一些编程语言中常常以数字0开始表明该数字是八进制。</li>
<li>八进制的数和二进制数可以按位对应（八进制一位对应二进制三位），因此常应用在计算机语言中。</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322145614503.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322145614503"></p>
<h5 id="2-6-3-十六进制"><a href="#2-6-3-十六进制" class="headerlink" title="2.6.3 十六进制"></a>2.6.3 十六进制</h5><blockquote>
<ul>
<li>十六进制（英文名称：Hexadecimal），同我们日常生活中的表示法不一样，它由0-9，A-F组成，字母不区分大小写。与10进制的对应关系是：0-9对应0-9，A-F对应10-15。</li>
<li>十六进制的数和二进制数可以按位对应（十六进制一位对应二进制四位），因此常应用在计算机语言中。</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322145730747.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322145730747"></p>
<h5 id="2-6-4-C语言如何表示相应进制数"><a href="#2-6-4-C语言如何表示相应进制数" class="headerlink" title="2.6.4 C语言如何表示相应进制数"></a>2.6.4 C语言如何表示相应进制数</h5><p><img src="/road2dasheng/img/07/image-20230322145828293.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322145828293"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">123</span>;		<span class="hljs-comment">//十进制方式赋值</span><br>	<span class="hljs-type">int</span> b = <span class="hljs-number">0123</span>;		<span class="hljs-comment">//八进制方式赋值， 以数字0开头</span><br>	<span class="hljs-type">int</span> c = <span class="hljs-number">0xABC</span>;	<span class="hljs-comment">//十六进制方式赋值</span><br><br>	<span class="hljs-comment">//如果在printf中输出一个十进制数那么用%d，八进制用%o，十六进制是%x</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;十进制：%d\n&quot;</span>,a );<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;八进制：%o\n&quot;</span>, b);	<span class="hljs-comment">//%o,为字母o,不是数字</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;十六进制：%x\n&quot;</span>, c);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-7-计算机内存数值存储方式"><a href="#2-7-计算机内存数值存储方式" class="headerlink" title="2.7 计算机内存数值存储方式"></a>2.7 计算机内存数值存储方式</h4><h5 id="2-7-1-原码"><a href="#2-7-1-原码" class="headerlink" title="2.7.1 原码"></a>2.7.1 原码</h5><blockquote>
<p>一个数的原码(原始的二进制码)有如下特点：</p>
<ul>
<li><p>最高位做为符号位，0表示正,为1表示负</p>
</li>
<li><p>其它数值部分就是数值本身绝对值的二进制数</p>
</li>
<li><p>负数的原码是在其绝对值的基础上，最高位变为1</p>
</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322150131305.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322150131305"></p>
<blockquote>
<p>原码表示法简单易懂，与带符号数本身转换方便，只要符号还原即可，但当两个正数相减或不同符号数相加时，必须比较两个数哪个绝对值大，才能决定谁减谁，才能确定结果是正还是负，所以原码不便于加减运算。</p>
</blockquote>
<h5 id="2-7-2-反码"><a href="#2-7-2-反码" class="headerlink" title="2.7.2 反码"></a>2.7.2 反码</h5><blockquote>
<ul>
<li>对于正数，反码与原码相同</li>
<li>对于负数，符号位不变，其它部分取反(1变0,0变1)</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322150317982.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322150317982"></p>
<blockquote>
<p>反码运算也不方便，通常用来作为求补码的中间过渡。</p>
</blockquote>
<h5 id="2-7-3-补码"><a href="#2-7-3-补码" class="headerlink" title="2.7.3 补码"></a>2.7.3 补码</h5><p>&#x3D;&#x3D;在计算机系统中，数值一律用补码来存储&#x3D;&#x3D;</p>
<blockquote>
<p>补码特点：</p>
<ul>
<li><p>对于正数，原码、反码、补码相同</p>
</li>
<li><p>对于负数，其补码为它的反码加1</p>
</li>
<li><p>补码符号位不动，其他位求反，最后整个数加1，得到原码</p>
</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322150538276.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322150538276"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span>  a = <span class="hljs-number">-15</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%x\n&quot;</span>, a);<br>	<span class="hljs-comment">//结果为 fffffff1</span><br>	<span class="hljs-comment">//fffffff1对应的二进制：1111 1111 1111 1111 1111 1111 1111 0001</span><br>	<span class="hljs-comment">//符号位不变，其它取反：1000 0000 0000 0000 0000 0000 0000 1110</span><br>	<span class="hljs-comment">//上面加1：1000 0000 0000 0000 0000 0000 0000 1111  最高位1代表负数，就是-15</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-7-4-补码的意义"><a href="#2-7-4-补码的意义" class="headerlink" title="2.7.4 补码的意义"></a>2.7.4 补码的意义</h5><p><img src="/road2dasheng/img/07/image-20230322151334425.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322151334425"></p>
<p><img src="/road2dasheng/img/07/image-20230322151355561.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322151355561"></p>
<blockquote>
<p>在计算机系统中，数值一律用补码来存储，主要原因是：</p>
<ul>
<li>统一了零的编码</li>
<li>将符号位和其它位统一处理</li>
<li>将减法运算转变为加法运算</li>
<li>两个用补码表示的数相加时，如果最高位(符号位)有进位，则进位被舍弃</li>
</ul>
</blockquote>
<h5 id="2-7-5-数值溢出"><a href="#2-7-5-数值溢出" class="headerlink" title="2.7.5 数值溢出"></a>2.7.5 数值溢出</h5><blockquote>
<ul>
<li>当超过一个数据类型能够存放最大的范围时，数值会溢出。</li>
<li>有符号位最高位溢出的区别：符号位溢出会导致数的正负发生改变，但最高位的溢出会导致最高位丢失。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> ch;<br><br>	<span class="hljs-comment">//符号位溢出会导致数的正负发生改变</span><br>	ch = <span class="hljs-number">0x7f</span> + <span class="hljs-number">2</span>; <span class="hljs-comment">//127+2</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ch);<br>	<span class="hljs-comment">//	0111 1111</span><br>	<span class="hljs-comment">//+2后 1000 0001，这是负数补码，其原码为 1111 1111，结果为-127</span><br><br>	<span class="hljs-comment">//最高位的溢出会导致最高位丢失</span><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> ch2;<br>	ch2 = <span class="hljs-number">0xff</span>+<span class="hljs-number">1</span>; <span class="hljs-comment">//255+1</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%u\n&quot;</span>, ch2);<br>	<span class="hljs-comment">//	  1111 1111</span><br>	<span class="hljs-comment">//+1后 10000 0000， char只有8位最高位的溢出，结果为0000 0000，十进制为0</span><br><br>	ch2 = <span class="hljs-number">0xff</span> + <span class="hljs-number">2</span>; <span class="hljs-comment">//255+2</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%u\n&quot;</span>, ch2);<br>	<span class="hljs-comment">//	  1111 1111</span><br>	<span class="hljs-comment">//+2后 10000 0001， char只有8位最高位的溢出，结果为0000 0001，十进制为1</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-8-类型限定符"><a href="#2-8-类型限定符" class="headerlink" title="2.8 类型限定符"></a>2.8 类型限定符</h4><p><img src="/road2dasheng/img/07/image-20230322152515285.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322152515285"></p>
<h4 id="2-9-字符串格式化输出和输入"><a href="#2-9-字符串格式化输出和输入" class="headerlink" title="2.9 字符串格式化输出和输入"></a>2.9 字符串格式化输出和输入</h4><h5 id="2-9-1-字符串常量"><a href="#2-9-1-字符串常量" class="headerlink" title="2.9.1 字符串常量"></a>2.9.1 字符串常量</h5><blockquote>
<ul>
<li>字符串是内存中一段连续的char空间，以’\0’(数字0)结尾</li>
<li>字符串常量是由双引号括起来的字符序列，如“china”、“C program”，“$12.5”等都是合法的字符串常量。</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322152941551.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322152941551"></p>
<h5 id="2-9-2-printf函数和putchar函数"><a href="#2-9-2-printf函数和putchar函数" class="headerlink" title="2.9.2 printf函数和putchar函数"></a>2.9.2 printf函数和putchar函数</h5><blockquote>
<ul>
<li>printf是输出一个字符串，putchar输出一个char</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322153341774.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322153341774"></p>
<p><img src="/road2dasheng/img/07/image-20230322153637724.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322153637724"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">100</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<span class="hljs-comment">//格式化输出一个字符串</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, &amp;a);<span class="hljs-comment">//输出变量a在内存中的地址编号</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%%d\n&quot;</span>);<br><br>	<span class="hljs-type">char</span> c = <span class="hljs-string">&#x27;a&#x27;</span>;<br>	<span class="hljs-built_in">putchar</span>(c);<span class="hljs-comment">//putchar只有一个参数，就是要输出的char</span><br>	<span class="hljs-type">long</span> a2 = <span class="hljs-number">100</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%ld, %lx, %lo\n&quot;</span>, a2, a2, a2);<br><br>	<span class="hljs-type">long</span> <span class="hljs-type">long</span> a3 = <span class="hljs-number">1000</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld, %llx, %llo\n&quot;</span>, a3, a3, a3);<br><br>	<span class="hljs-type">int</span> abc = <span class="hljs-number">10</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abc = &#x27;%6d&#x27;\n&quot;</span>, abc);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abc = &#x27;%-6d&#x27;\n&quot;</span>, abc);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abc = &#x27;%06d&#x27;\n&quot;</span>, abc);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abc = &#x27;%-06d&#x27;\n&quot;</span>, abc);<br><br>	<span class="hljs-type">double</span> d = <span class="hljs-number">12.3</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;d = \&#x27; %-10.3lf \&#x27;\n&quot;</span>, d);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-9-3-scanf函数与getchar函数"><a href="#2-9-3-scanf函数与getchar函数" class="headerlink" title="2.9.3 scanf函数与getchar函数"></a>2.9.3 scanf函数与getchar函数</h5><blockquote>
<ul>
<li>getchar是从标准输入设备读取一个char</li>
<li>scanf通过%转义的方式可以得到用户通过标准输入设备输入的数据</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> ch1;<br>	<span class="hljs-type">char</span> ch2;<br>	<span class="hljs-type">char</span> ch3;<br>	<span class="hljs-type">int</span> a;<br>	<span class="hljs-type">int</span> b;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入ch1的字符：&quot;</span>);<br>	ch1 = getchar();<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ch1 = %c\n&quot;</span>, ch1);<br><br>	getchar(); <span class="hljs-comment">//测试此处getchar()的作用</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入ch2的字符：&quot;</span>);<br>	ch2 = getchar();<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\&#x27;ch2 = %ctest\&#x27;\n&quot;</span>, ch2);<br><br>	getchar(); <span class="hljs-comment">//测试此处getchar()的作用</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入ch3的字符：&quot;</span>);<br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c&quot;</span>, &amp;ch3);<span class="hljs-comment">//这里第二个参数一定是变量的地址，而不是变量名</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ch3 = %c\n&quot;</span>, ch3);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入a的值：&quot;</span>);<br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入b的值：&quot;</span>);<br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;b);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;b = %d\n&quot;</span>, b);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="三、运算符与表达式"><a href="#三、运算符与表达式" class="headerlink" title="三、运算符与表达式"></a>三、运算符与表达式</h3><h4 id="3-1-常用运算符分类"><a href="#3-1-常用运算符分类" class="headerlink" title="3.1 常用运算符分类"></a>3.1 常用运算符分类</h4><p><img src="/road2dasheng/img/07/image-20230322154524878.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154524878"></p>
<h4 id="3-2-算术运算符"><a href="#3-2-算术运算符" class="headerlink" title="3.2 算术运算符"></a>3.2 算术运算符</h4><p><img src="/road2dasheng/img/07/image-20230322154609793.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154609793"></p>
<h4 id="3-3-赋值运算符"><a href="#3-3-赋值运算符" class="headerlink" title="3.3 赋值运算符"></a>3.3 赋值运算符</h4><p><img src="/road2dasheng/img/07/image-20230322154637522.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154637522"></p>
<h4 id="3-4-比较运算符"><a href="#3-4-比较运算符" class="headerlink" title="3.4 比较运算符"></a>3.4 比较运算符</h4><p><img src="/road2dasheng/img/07/image-20230322154724872.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154724872"></p>
<h4 id="3-5-逻辑运算符"><a href="#3-5-逻辑运算符" class="headerlink" title="3.5 逻辑运算符"></a>3.5 逻辑运算符</h4><p><img src="/road2dasheng/img/07/image-20230322154805925.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154805925"></p>
<h4 id="3-6-运算符优先级"><a href="#3-6-运算符优先级" class="headerlink" title="3.6 运算符优先级"></a>3.6 运算符优先级</h4><p><img src="/road2dasheng/img/07/image-20230322154906342.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154906342"><img src="/road2dasheng/img/07/image-20230322154930715.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322154930715"><img src="/road2dasheng/img/07/image-20230322155021104.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322155021104"></p>
<h4 id="3-7-类型转换"><a href="#3-7-类型转换" class="headerlink" title="3.7 类型转换"></a>3.7 类型转换</h4><p>数据有不同的类型，不同类型数据之间进行混合运算时必然涉及到类型的转换问题。转换的方法有两种：</p>
<blockquote>
<ul>
<li>自动转换(隐式转换)：遵循一定的规则,由编译系统自动完成</li>
<li>强制类型转换：把表达式的运算结果强制转换成所需的数据类型</li>
</ul>
</blockquote>
<p>类型转换的原则：占用内存字节数少(值域小)的类型，向占用内存字节数多(值域大)的类型转换，以保证精度不降低。</p>
<blockquote>
<p><img src="/road2dasheng/img/07/image-20230322155511986.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322155511986"></p>
</blockquote>
<h5 id="3-7-1-隐式转换"><a href="#3-7-1-隐式转换" class="headerlink" title="3.7.1 隐式转换"></a>3.7.1 隐式转换</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> num = <span class="hljs-number">5</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s1=%d\n&quot;</span>, num / <span class="hljs-number">2</span>);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s2=%lf\n&quot;</span>, num / <span class="hljs-number">2.0</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="3-7-2-强制转换"><a href="#3-7-2-强制转换" class="headerlink" title="3.7.2 强制转换"></a>3.7.2 强制转换</h5><p>强制类型转换指的是使用强制类型转换运算符，将一个变量或表达式转化成所需的类型，其基本语法格式如下所示：</p>
<p><img src="/road2dasheng/img/07/image-20230322155955880.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322155955880"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">float</span> x = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	x = <span class="hljs-number">3.6f</span>;<br><br>	i = x;			<span class="hljs-comment">//x为实型, i为整型，直接赋值会有警告</span><br>	i = (<span class="hljs-type">int</span>)x;		<span class="hljs-comment">//使用强制类型转换</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;x=%f, i=%d\n&quot;</span>, x, i);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="四、程序流程结构"><a href="#四、程序流程结构" class="headerlink" title="四、程序流程结构"></a>四、程序流程结构</h3><h4 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h4><blockquote>
<p>C语言支持最基本的三种程序运行结构：顺序结构、选择结构、循环结构。</p>
<ul>
<li>顺序结构：程序按顺序执行，不发生跳转</li>
<li>选择结构：依据是否满足条件，有选择的执行相应功能</li>
<li>循环结构：依据条件是否满足，循环多次执行某段代码</li>
</ul>
</blockquote>
<h4 id="4-2-选择结构"><a href="#4-2-选择结构" class="headerlink" title="4.2 选择结构"></a>4.2 选择结构</h4><h5 id="4-2-1-if语句"><a href="#4-2-1-if语句" class="headerlink" title="4.2.1 if语句"></a>4.2.1 if语句</h5><p><img src="/road2dasheng/img/07/image-20230322160450695.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322160450695"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;<br><br>	<span class="hljs-keyword">if</span> (a &gt; b)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, a);<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure>

<h5 id="4-2-2-if…else语句"><a href="#4-2-2-if…else语句" class="headerlink" title="4.2.2 if…else语句"></a>4.2.2 if…else语句</h5><p><img src="/road2dasheng/img/07/image-20230322160629798.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322160629798"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;<br><br>	<span class="hljs-keyword">if</span> (a &gt; b)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, a);<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, b);<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-2-3-if…else-if…else语句"><a href="#4-2-3-if…else-if…else语句" class="headerlink" title="4.2.3 if…else if…else语句"></a>4.2.3 if…else if…else语句</h5><p><img src="/road2dasheng/img/07/image-20230322160816489.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322160816489"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> a;<br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%u&quot;</span>, &amp;a);<br><br>	<span class="hljs-keyword">if</span> (a &lt; <span class="hljs-number">10</span>)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;个位\n&quot;</span>);<br>	&#125;<br>	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a &lt; <span class="hljs-number">100</span>)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;十位\n&quot;</span>);<br>	&#125;<br>	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a &lt; <span class="hljs-number">1000</span>)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;百位\n&quot;</span>);<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;很大\n&quot;</span>);<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-2-4-三目运算符"><a href="#4-2-4-三目运算符" class="headerlink" title="4.2.4 三目运算符"></a>4.2.4 三目运算符</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">20</span>;<br>	<span class="hljs-type">int</span> c;<br><br>	<span class="hljs-keyword">if</span> (a &gt; b)<br>	&#123;<br>		c = a;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		c = b;<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;c1 = %d\n&quot;</span>, c);<br><br>	a = <span class="hljs-number">1</span>;<br>	b = <span class="hljs-number">2</span>;<br>	c = ( a &gt; b ? a : b );<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;c2 = %d\n&quot;</span>, c);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-2-5-switch语句"><a href="#4-2-5-switch语句" class="headerlink" title="4.2.5 switch语句"></a>4.2.5 switch语句</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> c;<br>	c = getchar();<br><br>	<span class="hljs-keyword">switch</span> (c) <span class="hljs-comment">//参数只能是整型变量</span><br>	&#123;<br>	<span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;1&#x27;</span>:<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;OK\n&quot;</span>);<br>		<span class="hljs-keyword">break</span>;<span class="hljs-comment">//switch遇到break就中断了</span><br>	<span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;2&#x27;</span>:<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;not OK\n&quot;</span>);<br>		<span class="hljs-keyword">break</span>;<br>	<span class="hljs-keyword">default</span>:<span class="hljs-comment">//如果上面的条件都不满足，那么执行default</span><br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;are u ok?\n&quot;</span>);<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="4-3-循环结构"><a href="#4-3-循环结构" class="headerlink" title="4.3 循环结构"></a>4.3 循环结构</h4><h5 id="4-3-1-while语句"><a href="#4-3-1-while语句" class="headerlink" title="4.3.1 while语句"></a>4.3.1 while语句</h5><p><img src="/road2dasheng/img/07/image-20230322161627344.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322161627344"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">20</span>;<br>	<span class="hljs-keyword">while</span> (a &gt; <span class="hljs-number">10</span>)<br>	&#123;<br>		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-3-2-do…while语句"><a href="#4-3-2-do…while语句" class="headerlink" title="4.3.2 do…while语句"></a>4.3.2 do…while语句</h5><p><img src="/road2dasheng/img/07/image-20230322161717165.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322161717165"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">do</span><br>	&#123;<br>		a++;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br>	&#125; <span class="hljs-keyword">while</span> (a &lt; <span class="hljs-number">10</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-3-3-for语句"><a href="#4-3-3-for语句" class="headerlink" title="4.3.3 for语句"></a>4.3.3 for语句</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> i;<br>	<span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">100</span>; i++)<br>	&#123;<br>		sum += i;<br><br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %d\n&quot;</span>, sum);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-3-4-嵌套循环"><a href="#4-3-4-嵌套循环" class="headerlink" title="4.3.4 嵌套循环"></a>4.3.4 嵌套循环</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> i, j, k;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++)<br>		&#123;<br>			<span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">10</span>; k++)<br>			&#123;<br>				<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello world\n&quot;</span>);<br>				num++;<br>			&#125;<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num = %d\n&quot;</span>, num);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="4-4-跳转语句break、continue、goto"><a href="#4-4-跳转语句break、continue、goto" class="headerlink" title="4.4 跳转语句break、continue、goto"></a>4.4 跳转语句break、continue、goto</h4><h5 id="4-4-1-break语句"><a href="#4-4-1-break语句" class="headerlink" title="4.4.1 break语句"></a>4.4.1 break语句</h5><blockquote>
<p>在switch条件语句和循环语句中都可以使用break语句：</p>
<ul>
<li>当它出现在switch条件语句中时，作用是终止某个case并跳出switch结构</li>
<li>当它出现在循环语句中，作用是跳出当前内循环语句，执行后面的代码</li>
<li>当它出现在嵌套循环语句中，跳出最近的内循环语句，执行后面的代码</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)<br>	&#123;<br>		i++;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;i = %d\n&quot;</span>, i);<br><br>		<span class="hljs-keyword">if</span> (i == <span class="hljs-number">10</span>)<br>		&#123;<br>			<span class="hljs-keyword">break</span>; <span class="hljs-comment">//跳出while循环</span><br>		&#125;<br>	&#125;<br><br>	<span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> m = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>;<br><br>	<span class="hljs-keyword">for</span> (m = <span class="hljs-number">0</span>; m &lt; <span class="hljs-number">10</span>; m++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (n = <span class="hljs-number">0</span>; n &lt; <span class="hljs-number">10</span>; n++)<br>		&#123;<br>			<span class="hljs-keyword">if</span> (n == <span class="hljs-number">5</span>)<br>			&#123;<br>				flag = <span class="hljs-number">1</span>;<br>				<span class="hljs-keyword">break</span>; <span class="hljs-comment">//跳出for (n = 0; n &lt; 10; n++)</span><br>			&#125;<br>		&#125;<br><br>		<span class="hljs-keyword">if</span> (flag == <span class="hljs-number">1</span>)<br>		&#123;<br>			<span class="hljs-keyword">break</span>; <span class="hljs-comment">//跳出for (m = 0; m &lt; 10; m++)</span><br>		&#125;<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-4-2-continue语句"><a href="#4-4-2-continue语句" class="headerlink" title="4.4.2 continue语句"></a>4.4.2 continue语句</h5><blockquote>
<ul>
<li>在循环语句中，如果希望立即终止本次循环，并执行下一次循环，此时就需要使用continue语句。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;           <span class="hljs-comment">//定义变量sum</span><br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">100</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)   <span class="hljs-comment">//如果i是一个偶数，执行if语句中的代码</span><br>		&#123;<br>			<span class="hljs-keyword">continue</span>;      <span class="hljs-comment">//结束本次循环</span><br>		&#125;<br>		sum += i;          <span class="hljs-comment">//实现sum和i的累加</span><br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %d\n&quot;</span>, sum);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="4-4-3-goto语句（无条件跳转，尽量少用）"><a href="#4-4-3-goto语句（无条件跳转，尽量少用）" class="headerlink" title="4.4.3 goto语句（无条件跳转，尽量少用）"></a>4.4.3 goto语句（无条件跳转，尽量少用）</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-keyword">goto</span> End; <span class="hljs-comment">//无条件跳转到End的标识</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;aaaaaaaaa\n&quot;</span>);<br><br>End:<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;bbbbbbbb\n&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="五、数组和字符串"><a href="#五、数组和字符串" class="headerlink" title="五、数组和字符串"></a>五、数组和字符串</h3><h4 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 概述"></a>5.1 概述</h4><blockquote>
<p>在程序设计中，为了方便处理数据把具有相同类型的若干变量按有序形式组织起来——称为数组。</p>
</blockquote>
<blockquote>
<p>&#x3D;&#x3D;数组就是在内存中连续的相同类型的变量空间。&#x3D;&#x3D;同一个数组所有的成员都是相同的数据类型，同时所有的成员在内存中的地址是连续的。</p>
</blockquote>
<p><img src="/road2dasheng/img/07/image-20230322163822842.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230322163822842"></p>
<blockquote>
<p>数组属于构造数据类型：</p>
<ul>
<li>一个数组可以分解为多个数组元素：这些数组元素可以是基本数据类型或构造类型。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>];  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> <span class="hljs-title">boy</span>[10];</span><br></code></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>按数组元素类型的不同，数组可分为：数值数组、字符数组、指针数组、结构数组等类别。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>];<br><span class="hljs-type">char</span> s[<span class="hljs-number">10</span>];<br><span class="hljs-type">char</span> *p[<span class="hljs-number">10</span>];<br></code></pre></td></tr></table></figure>

<blockquote>
<p>通常情况下，数组元素下标的个数也称为维数，根据维数的不同，可将数组分为一维数组、二维数组、三维数组、四维数组等。通常情况下，我们将二维及以上的数组称为多维数组。</p>
</blockquote>
<h4 id="5-2-一维数组"><a href="#5-2-一维数组" class="headerlink" title="5.2 一维数组"></a>5.2 一维数组</h4><h5 id="5-2-1-一维数组的定义和使用"><a href="#5-2-1-一维数组的定义和使用" class="headerlink" title="5.2.1 一维数组的定义和使用"></a>5.2.1 一维数组的定义和使用</h5><blockquote>
<ul>
<li>数组名字符合标识符的书写规定(数字、英文字母、下划线)</li>
<li>数组名不能与其它变量名相同，同一作用域内是唯一的</li>
<li>方括号[]中常量表达式表示数组元素的个数<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">3</span>]表示数组a有<span class="hljs-number">3</span>个元素<br>其下标从<span class="hljs-number">0</span>开始计算，因此<span class="hljs-number">3</span>个元素分别为a[<span class="hljs-number">0</span>],a[<span class="hljs-number">1</span>],a[<span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure></li>
<li>定义数组时[]内最好是常量，使用数组时[]内即可是常量，也可以是变量</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[<span class="hljs-number">10</span>];<span class="hljs-comment">//定义了一个数组，名字叫a，有10个成员，每个成员都是int类型</span><br>	<span class="hljs-comment">//a[0]…… a[9]，没有a[10]</span><br>	<span class="hljs-comment">//没有a这个变量，a是数组的名字，但不是变量名，它是常量</span><br>	a[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>	<span class="hljs-comment">//……</span><br>	a[<span class="hljs-number">9</span>] = <span class="hljs-number">9</span>;<br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>	&#123;<br>		a[i] = i; <span class="hljs-comment">//给数组赋值</span><br>	&#125;<br><br>	<span class="hljs-comment">//遍历数组，并输出每个成员的值</span><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="5-2-2-一维数组的初始化"><a href="#5-2-2-一维数组的初始化" class="headerlink" title="5.2.2 一维数组的初始化"></a>5.2.2 一维数组的初始化</h5><blockquote>
<ul>
<li>在定义数组的同时进行赋值，称为初始化。</li>
<li>全局数组若不初始化，编译器将其初始化为零。</li>
<li>局部数组若不初始化，内容为随机值。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span> &#125;;<span class="hljs-comment">//定义一个数组，同时初始化所有成员变量</span><br><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> &#125;;<span class="hljs-comment">//初始化前三个成员，后面所有元素都设置为0</span><br><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">0</span> &#125;;<span class="hljs-comment">//所有的成员都设置为0</span><br><span class="hljs-comment">//[]中不定义元素个数，定义时必须初始化</span><br><span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;<span class="hljs-comment">//定义了一个数组，有5个成员</span><br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="5-2-3-数组名"><a href="#5-2-3-数组名" class="headerlink" title="5.2.3 数组名"></a>5.2.3 数组名</h5><blockquote>
<p>数组名是一个地址的常量，代表数组中首元素的地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span> &#125;;<span class="hljs-comment">//定义一个数组，同时初始化所有成员变量</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %p\n&quot;</span>, a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;a[0] = %p\n&quot;</span>, &amp;a[<span class="hljs-number">0</span>]);<br><br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(a); <span class="hljs-comment">//数组占用内存的大小，10个int类型，10 * 4  = 40</span><br>	<span class="hljs-type">int</span> n0 = <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]);<span class="hljs-comment">//数组第0个元素占用内存大小，第0个元素为int，4</span><br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]); i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="5-2-4-强化训练"><a href="#5-2-4-强化训练" class="headerlink" title="5.2.4 强化训练"></a>5.2.4 强化训练</h5><p>1）一维数组的最值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123;  <span class="hljs-number">1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">3</span>,- <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">-8</span>, <span class="hljs-number">-9</span>, <span class="hljs-number">10</span> &#125;;<span class="hljs-comment">//定义一个数组，同时初始化所有成员变量</span><br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> max = a[<span class="hljs-number">0</span>];<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]); i++)<br>	&#123;<br>		<span class="hljs-keyword">if</span> (a[i] &gt; max)<br>		&#123;<br>			max = a[i];<br>		&#125;<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;数组中最大值为：%d\n&quot;</span>, max);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2）一维数组的逆置</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123;  <span class="hljs-number">1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">3</span>,- <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">-8</span>, <span class="hljs-number">-9</span>, <span class="hljs-number">10</span> &#125;;<span class="hljs-comment">//定义一个数组，同时初始化所有成员变量</span><br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> j = <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]) <span class="hljs-number">-1</span>;<br>	<span class="hljs-type">int</span> tmp;<br><br>	<span class="hljs-keyword">while</span> (i &lt; j)<br>	&#123;<br>		tmp = a[i];<br>		a[i] = a[j];<br>		a[j] = tmp;<br>		i++;<br>		j--;<br>	&#125;<br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]); i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3）冒泡法排序</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123;  <span class="hljs-number">1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">3</span>,- <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">-8</span>, <span class="hljs-number">-9</span>, <span class="hljs-number">10</span> &#125;;<span class="hljs-comment">//定义一个数组，同时初始化所有成员变量</span><br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]);<br>	<span class="hljs-type">int</span> tmp;<br><br>	<span class="hljs-comment">//1、流程</span><br>	<span class="hljs-comment">//2、试数</span><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n<span class="hljs-number">-1</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; n - i <span class="hljs-number">-1</span> ; j++)<span class="hljs-comment">//内循环的目的是比较相邻的元素，把大的放到后面</span><br>		&#123;<br>			<span class="hljs-keyword">if</span> (a[j]  &gt; a[j + <span class="hljs-number">1</span>])<br>			&#123;<br>				tmp = a[j];<br>				a[j] = a[j+<span class="hljs-number">1</span>];<br>				a[j+<span class="hljs-number">1</span>] = tmp;<br>			&#125;<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="5-3-二维数组"><a href="#5-3-二维数组" class="headerlink" title="5.3 二维数组"></a>5.3 二维数组</h4><h5 id="5-3-1-二维数组的定义和使用"><a href="#5-3-1-二维数组的定义和使用" class="headerlink" title="5.3.1 二维数组的定义和使用"></a>5.3.1 二维数组的定义和使用</h5><blockquote>
<p>二维数组定义的一般形式是：</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">类型说明符 数组名[常量表达式<span class="hljs-number">1</span>][常量表达式<span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure>

<blockquote>
<p>其中常量表达式1表示第一维下标的长度，常量表达式2 表示第二维下标的长度。</p>
</blockquote>
<blockquote>
<p><code>int a[3][4]</code></p>
<ul>
<li>命名规则同一维数组</li>
<li>定义了一个三行四列的数组，数组名为a其元素类型为整型，该数组的元素个数为3×4个，即：</li>
</ul>
<p><img src="/road2dasheng/img/07/clip_image002.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="img"></p>
<p>二维数组a是按行进行存放的，先存放a[0]行，再存放a[1]行、a[2]行，并且每行有四个元素，也是依次存放的。</p>
<ul>
<li>二维数组在概念上是二维的：其下标在两个方向上变化，对其访问一般需要两个下标。</li>
<li>在内存中并不存在二维数组，二维数组实际的硬件存储器是连续编址的，也就是说内存中只有一维数组，即放完一行之后顺次放入第二行，和一维数组存放方式是一样的。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//定义了一个二维数组，名字叫a</span><br>	<span class="hljs-comment">//由3个一维数组组成，这个一维数组是int [4]</span><br>	<span class="hljs-comment">//这3个一维数组的数组名分别为a[0],a[1],a[2]</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>];<br><br>	a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>	<span class="hljs-comment">//……</span><br>	a[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] = <span class="hljs-number">12</span>;<br><br>	<span class="hljs-comment">//给数组每个元素赋值</span><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++)<br>		&#123;<br>			a[i][j] = num++;<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-comment">//遍历数组，并输出每个成员的值</span><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++)<br>		&#123;<br>			<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, a[i][j]);<br>		&#125;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="5-3-2-二维数组的初始化"><a href="#5-3-2-二维数组的初始化" class="headerlink" title="5.3.2 二维数组的初始化"></a>5.3.2 二维数组的初始化</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//分段赋值 	int a[3][4] = &#123;&#123; 1, 2, 3, 4 &#125;,&#123; 5, 6, 7, 8, &#125;,&#123; 9, 10, 11, 12 &#125;&#125;;</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = <br>	&#123; <br>		&#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> &#125;,<br>		&#123; <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, &#125;,<br>		&#123; <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span> &#125;<br>	&#125;;<br><br>	<span class="hljs-comment">//连续赋值</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> , <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>  &#125;;<br><br>	<span class="hljs-comment">//可以只给部分元素赋初值，未初始化则为0</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>  &#125;;<br><br>	<span class="hljs-comment">//所有的成员都设置为0</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br><br>	<span class="hljs-comment">//[]中不定义元素个数，定义时必须初始化</span><br>	<span class="hljs-type">int</span> a[][<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>&#125;;<br></code></pre></td></tr></table></figure>

<h5 id="5-3-3-数组名"><a href="#5-3-3-数组名" class="headerlink" title="5.3.3 数组名"></a>5.3.3 数组名</h5><p>数组名是一个地址的常量，代表数组中首元素的地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//定义了一个二维数组，名字叫a</span><br>	<span class="hljs-comment">//二维数组是本质上还是一维数组，此一维数组有3个元素</span><br><span class="hljs-comment">//每个元素又是一个一维数组int[4]</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> , <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>  &#125;;<br><br>	<span class="hljs-comment">//数组名为数组首元素地址，二维数组的第0个元素为一维数组</span><br>	<span class="hljs-comment">//第0个一维数组的数组名为a[0]</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %p\n&quot;</span>, a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a[0] = %p\n&quot;</span>, a[<span class="hljs-number">0</span>]);<br>	<br>	<span class="hljs-comment">//测二维数组所占内存空间，有3个一维数组，每个一维数组的空间为4*4</span><br>	<span class="hljs-comment">//sizeof(a) = 3 * 4 * 4 = 48</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(a) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a));<br><br>	<span class="hljs-comment">//测第0个元素所占内存空间，a[0]为第0个一维数组int[4]的数组名，4*4=16</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(a[0]) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]) );<br><br>	<span class="hljs-comment">//测第0行0列元素所占内存空间，第0行0列元素为一个int类型，4字节</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(a[0][0]) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]));<br><br>	<span class="hljs-comment">//求二维数组行数</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;i = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]));<br><br>	<span class="hljs-comment">// 求二维数组列数</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;j = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]));<br><br>	<span class="hljs-comment">//求二维数组行*列总数</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]));<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="5-3-4-强化训练"><a href="#5-3-4-强化训练" class="headerlink" title="5.3.4 强化训练"></a>5.3.4 强化训练</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//二维数组：  五行、三列</span><br>	<span class="hljs-comment">//行代表人：  老大到老五</span><br>	<span class="hljs-comment">//列代表科目：语、数、外</span><br>	<span class="hljs-type">float</span> a[<span class="hljs-number">5</span>][<span class="hljs-number">3</span>] = &#123; &#123; <span class="hljs-number">80</span>, <span class="hljs-number">75</span>, <span class="hljs-number">56</span> &#125;, &#123; <span class="hljs-number">59</span>, <span class="hljs-number">65</span>, <span class="hljs-number">71</span> &#125;, &#123; <span class="hljs-number">59</span>, <span class="hljs-number">63</span>, <span class="hljs-number">70</span> &#125;, &#123; <span class="hljs-number">85</span>, <span class="hljs-number">45</span>, <span class="hljs-number">90</span> &#125;, &#123; <span class="hljs-number">76</span>, <span class="hljs-number">77</span>, <span class="hljs-number">45</span> &#125; &#125;;<br><br>	<span class="hljs-type">int</span> i, j, person_low[<span class="hljs-number">3</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br>	<span class="hljs-type">float</span> s = <span class="hljs-number">0</span>, lesson_aver[<span class="hljs-number">3</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++)<br>		&#123;<br>			s = s + a[j][i];<br>			<span class="hljs-keyword">if</span> (a[j][i] &lt; <span class="hljs-number">60</span>)<br>			&#123;<br>				person_low[i]++;<br>			&#125;<br>		&#125;<br><br>		lesson_aver[i] = s / <span class="hljs-number">5</span>;<br>		s = <span class="hljs-number">0</span>;<br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;各科的平均成绩:\n&quot;</span>);<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2f\n&quot;</span>, lesson_aver[i]);<br>	&#125;<br>		<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;各科不及格的人数:\n&quot;</span>);<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, person_low[i]);<br>	&#125;<br>		<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="5-4-多维数组（了解）"><a href="#5-4-多维数组（了解）" class="headerlink" title="5.4 多维数组（了解）"></a>5.4 多维数组（了解）</h4><blockquote>
<p>多维数组的定义与二维数组类似，其语法格式具体如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">数组类型修饰符 数组名 [n1][n2]…[nn];<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><code>int a[3][4][5]</code></p>
<p>定义了一个三维数组，数组的名字是a，数组的长度为3，每个数组的元素又是一个二维数组，这个二维数组的长度是4，并且这个二维数组中的每个元素又是一个一维数组，这个一维数组的长度是5，元素类型是int</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//int a[3][4][5] ;//定义了一个三维数组，有3个二维数组int[4][5]</span><br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>][<span class="hljs-number">5</span>] = &#123; &#123; &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;, &#123; <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span> &#125;, &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125; &#125;, &#123; &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125; &#125;, &#123; &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125;, &#123; <span class="hljs-number">0</span> &#125; &#125; &#125;;<br><br>	<span class="hljs-type">int</span> i, j, k;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++)<br>		&#123;<br>			<span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">5</span>; k++)<br>			&#123;<br>				<span class="hljs-comment">//添加访问元素代码</span><br>				<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, a[i][j][k]);<br>			&#125;<br>			<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="5-5-字符数组与字符串"><a href="#5-5-字符数组与字符串" class="headerlink" title="5.5 字符数组与字符串"></a>5.5 字符数组与字符串</h4><h5 id="5-5-1-字符数组与字符串区别"><a href="#5-5-1-字符数组与字符串区别" class="headerlink" title="5.5.1 字符数组与字符串区别"></a>5.5.1 字符数组与字符串区别</h5><blockquote>
<ul>
<li>C语言中没有字符串这种数据类型，可以通过char的数组来替代；</li>
<li>字符串一定是一个char的数组，但char的数组未必是字符串；</li>
<li>数字0(和字符‘\0’等价)结尾的char数组就是一个字符串，但如果char数组没有以数字0结尾，那么就不是一个字符串，只是普通字符数组，所以字符串是一种特殊的char的数组。</li>
</ul>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment">#include &lt;stdio.h&gt;</span><br><br><span class="hljs-keyword">int</span> main()<br>&#123;<br>	char c1[] = &#123; <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span> &#125;; <span class="hljs-regexp">//</span>普通字符数组<br>	<span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;c1 = %s\n&quot;</span>, c1); <span class="hljs-regexp">//</span>乱码，因为没有’\<span class="hljs-number">0</span>’结束符<br><br>	//以‘\<span class="hljs-number">0</span>’(‘\<span class="hljs-number">0</span>’就是数字<span class="hljs-number">0</span>)结尾的字符数组是字符串<br>	char c2[] = &#123; <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;\0&#x27;</span>&#125;; <br>	<span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;c2 = %s\n&quot;</span>, c2);<br><br>	<span class="hljs-regexp">//</span>字符串处理以‘\<span class="hljs-number">0</span>’(数字<span class="hljs-number">0</span>)作为结束符，后面的<span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>不会输出<br>	char c3[] = &#123; <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;\0&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;\0&#x27;</span>&#125;;<br>	<span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;c3 = %s\n&quot;</span>, c3);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="5-5-2-字符串的初始化"><a href="#5-5-2-字符串的初始化" class="headerlink" title="5.5.2 字符串的初始化"></a>5.5.2 字符串的初始化</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// C语言没有字符串类型，通过字符数组模拟</span><br><span class="hljs-comment">// C语言字符串，以字符‘\0’, 数字0</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//不指定长度, 没有0结束符，有多少个元素就有多长</span><br>	<span class="hljs-type">char</span> buf[] = &#123; <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span> &#125;;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;buf = %s\n&quot;</span>, buf);	<span class="hljs-comment">//乱码</span><br><br>	<span class="hljs-comment">//指定长度，后面没有赋值的元素，自动补0</span><br>	<span class="hljs-type">char</span> buf2[<span class="hljs-number">100</span>] = &#123; <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span> &#125;;<br><span class="hljs-type">char</span> buf[<span class="hljs-number">1000</span>]=&#123;“hello”&#125;;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;buf2 = %s\n&quot;</span>, buf2);<br><br>	<span class="hljs-comment">//所有元素赋值为0</span><br>	<span class="hljs-type">char</span> buf3[<span class="hljs-number">100</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><br>	<span class="hljs-comment">//char buf4[2] = &#123; &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27; &#125;;//数组越界</span><br><br>	<span class="hljs-type">char</span> buf5[<span class="hljs-number">50</span>] = &#123; <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span> &#125;;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;buf5 = %s\n&quot;</span>, buf5);<br><br>	<span class="hljs-type">char</span> buf6[<span class="hljs-number">50</span>] = &#123; <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;7&#x27;</span> &#125;;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;buf6 = %s\n&quot;</span>, buf6);<br><br>	<span class="hljs-type">char</span> buf7[<span class="hljs-number">50</span>] = &#123; <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;\0&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span> &#125;;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;buf7 = %s\n&quot;</span>, buf7);<br><br>	<span class="hljs-comment">//使用字符串初始化，编译器自动在后面补0，常用</span><br>	<span class="hljs-type">char</span> buf8[] = <span class="hljs-string">&quot;agjdslgjlsdjg&quot;</span>;<br><br>	<span class="hljs-comment">//&#x27;\0&#x27;后面最好不要连着数字，有可能几个数字连起来刚好是一个转义字符</span><br>	<span class="hljs-comment">//&#x27;\ddd&#x27;八进制字义字符，&#x27;\xdd&#x27;十六进制转移字符</span><br>	<span class="hljs-comment">// \012相当于\n</span><br>	<span class="hljs-type">char</span> str[] = <span class="hljs-string">&quot;\012abc&quot;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str == %s\n&quot;</span>, str);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="5-5-3-字符串的输入输出"><a href="#5-5-3-字符串的输入输出" class="headerlink" title="5.5.3 字符串的输入输出"></a>5.5.3 字符串的输入输出</h5><blockquote>
<p>由于字符串采用了’\0’标志，字符串的输入输出将变得简单方便。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> str[<span class="hljs-number">100</span>];<br>   <br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;input string1 : \n&quot;</span>);<br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str);<span class="hljs-comment">//scanf(“%s”,str)默认以空格分隔</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;output:%s\n&quot;</span>, str);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<p>(1) gets()</p>
<blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt;<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br>&gt;<span class="hljs-type">char</span> *<span class="hljs-title function_">gets</span><span class="hljs-params">(<span class="hljs-type">char</span> *s)</span>;<br>&gt;功能：从标准输入读入字符，并保存到s指定的内存空间，直到出现换行符或读到文件结尾为止。<br>&gt;参数：<br>s：字符串首地址<br>&gt;返回值：<br>成功：读入的字符串<br>失败：NUL<br></code></pre></td></tr></table></figure>

<p>gets(str)与scanf(“%s”,str)的区别：</p>
<ul>
<li><p>gets(str)允许输入的字符串含有空格</p>
</li>
<li><p>scanf(“%s”,str)不允许含有空格</p>
</li>
</ul>
<p>注意：由于scanf()和gets()无法知道字符串s大小，必须遇到换行符或读到文件结尾为止才接收输入，因此容易导致字符数组越界(缓冲区溢出)的情况。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt;<span class="hljs-type">char</span> str[<span class="hljs-number">100</span>];<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入str: &quot;</span>);<br>gets(str);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str = %s\n&quot;</span>, str);<br></code></pre></td></tr></table></figure>
<p>(2) fgets()</p>
</blockquote>
<blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">fgets</span><span class="hljs-params">(<span class="hljs-type">char</span> *s, <span class="hljs-type">int</span> size, FILE *stream)</span>;<br>功能：从stream指定的文件内读入字符，保存到s所指定的内存空间，直到出现换行字符、读到文件结尾或是已读了size - <span class="hljs-number">1</span>个字符为止，最后会自动加上字符 <span class="hljs-string">&#x27;\0&#x27;</span> 作为字符串结束。<br>参数：<br>	s：字符串<br>	size：指定最大读取字符串的长度（size - <span class="hljs-number">1</span>）<br>	stream：文件指针，如果读键盘输入的字符串，固定写为<span class="hljs-built_in">stdin</span><br>返回值：<br>	成功：成功读取的字符串<br>	读到文件尾或出错： <span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<p>fgets()在读取一个用户通过键盘输入的字符串的时候，同时把用户输入的回车也做为字符串的一部分。通过scanf和gets输入一个字符串的时候，不包含结尾的“\n”，但通过fgets结尾多了“\n”。fgets()函数是安全的，不存在缓冲区溢出的问题。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str[<span class="hljs-number">100</span>];<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入str: &quot;</span>);<br>	fgets(str, <span class="hljs-keyword">sizeof</span>(str), <span class="hljs-built_in">stdin</span>);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str = \&quot;%s\&quot;\n&quot;</span>, str);<br></code></pre></td></tr></table></figure>
</blockquote>
<p>(3) puts()</p>
<blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">puts</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s)</span>;<br>功能：标准设备输出s字符串，在输出完成后自动输出一个<span class="hljs-string">&#x27;\n&#x27;</span>。<br>参数：<br>	s：字符串首地址<br>返回值：<br>	成功：非负数<br>	失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello world&quot;</span>);<br>	<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;hello world&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<p>(4) fputs()</p>
<blockquote>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">fputs</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * str, FILE * stream)</span></span>;<br>功能：将str所指定的字符串写入到stream指定的文件中， 字符串结束符 <span class="hljs-string">&#x27;\0&#x27;</span>  不写入文件。 <br>参数：<br>	str：字符串<br>	stream：文件指针，如果把字符串输出到屏幕，固定写为stdout<br>返回值：<br>	成功：<span class="hljs-number">0</span><br>	失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<p>fputs()是puts()的文件操作版本，但fputs()不会自动输出一个’\n’。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello world&quot;</span>);<br>	<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;hello world&quot;</span>);<br>	<span class="hljs-built_in">fputs</span>(<span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-built_in">stdout</span>);<br></code></pre></td></tr></table></figure>
</blockquote>
<p>(5) strlen()</p>
<blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">size_t</span> <span class="hljs-title function_">strlen</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s)</span>;<br>功能：计算指定字符串s的长度，不包含字符串结束符‘\<span class="hljs-number">0</span>’<br>参数：<br>s：字符串首地址<br>返回值：字符串s的长度，<span class="hljs-type">size_t</span>为<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>类型<br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str[] = <span class="hljs-string">&quot;abc\0defg&quot;</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-built_in">strlen</span>(str);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n = %d\n&quot;</span>, n);<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="5-5-4-强化训练：字符串追加"><a href="#5-5-4-强化训练：字符串追加" class="headerlink" title="5.5.4 强化训练：字符串追加"></a>5.5.4 强化训练：字符串追加</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> str1[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br>	<span class="hljs-type">char</span> str2[] = <span class="hljs-string">&quot;123456&quot;</span>;<br>	<span class="hljs-type">char</span> dst[<span class="hljs-number">100</span>];<br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (str1[i] != <span class="hljs-number">0</span>)<br>	&#123;<br>		dst[i] = str1[i];<br>		i++;<br>	&#125;<br><br>	<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (str2[j] != <span class="hljs-number">0</span>)<br>	&#123;<br>		dst[i + j] = str2[j];<br>		j++;<br>	&#125;<br>	dst[i + j] = <span class="hljs-number">0</span>; <span class="hljs-comment">//字符串结束符</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;dst = %s\n&quot;</span>, dst);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="六、函数"><a href="#六、函数" class="headerlink" title="六、函数"></a>六、函数</h3><h4 id="6-1-概述"><a href="#6-1-概述" class="headerlink" title="6.1 概述"></a>6.1 概述</h4><h5 id="6-1-1-函数分类"><a href="#6-1-1-函数分类" class="headerlink" title="6.1.1 函数分类"></a>6.1.1 函数分类</h5><blockquote>
<p> C 程序是由函数组成的，我们写的代码都是由主函数 main()开始执行的。函数是 C 程序的基本模块，是用于完成特定任务的程序代码单元。</p>
<p>从函数定义的角度看，函数可分为系统函数和用户定义函数两种：</p>
<ul>
<li>系统函数，即库函数：这是由编译系统提供的，用户不必自己定义这些函数，可以直接使用它们，如我们常用的打印函数printf()</li>
<li>用户定义函数：用以解决用户的专门需要。</li>
</ul>
</blockquote>
<h5 id="6-1-2-函数的作用"><a href="#6-1-2-函数的作用" class="headerlink" title="6.1.2 函数的作用"></a>6.1.2 函数的作用</h5><blockquote>
<ul>
<li>函数的使用可以省去重复代码的编写，降低代码重复率</li>
<li>函数可以让程序更加模块化，从而有利于程序的阅读，修改和完善</li>
</ul>
</blockquote>
<h5 id="6-1-3-函数的调用：产生随机数"><a href="#6-1-3-函数的调用：产生随机数" class="headerlink" title="6.1.3 函数的调用：产生随机数"></a>6.1.3 函数的调用：产生随机数</h5><blockquote>
<p>当调用函数时，需要关心5要素：</p>
<ul>
<li><p>头文件：包含指定的头文件</p>
</li>
<li><p>函数名字：函数名字必须和头文件声明的名字一样</p>
</li>
<li><p>功能：需要知道此函数具体能干啥才调用</p>
</li>
<li><p>参数：参数类型要匹配</p>
</li>
<li><p>返回值：根据需要接收返回值</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><span class="hljs-type">time_t</span> <span class="hljs-title function_">time</span><span class="hljs-params">(<span class="hljs-type">time_t</span> *t)</span>;<br>功能：获取当前系统时间<br>参数：常设置为<span class="hljs-literal">NULL</span><br>返回值：当前系统时间, <span class="hljs-type">time_t</span> 相当于<span class="hljs-type">long</span>类型，单位为毫秒<br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">srand</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> seed)</span>;<br>功能：用来设置rand()产生随机数时的随机种子<br>参数：如果每次seed相等，rand()产生随机数相等<br>返回值：无<br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">rand</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>;<br>功能：返回一个随机数值<br>参数：无<br>返回值：随机数<br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">time_t</span> tm = time(<span class="hljs-literal">NULL</span>);<span class="hljs-comment">//得到系统时间</span><br>	srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)tm);<span class="hljs-comment">//随机种子只需要设置一次即可</span><br><br>	<span class="hljs-type">int</span> r = rand();<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;r = %d\n&quot;</span>, r);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="6-2-函数的定义"><a href="#6-2-函数的定义" class="headerlink" title="6.2 函数的定义"></a>6.2 函数的定义</h4><h5 id="6-2-1-函数定义格式"><a href="#6-2-1-函数定义格式" class="headerlink" title="6.2.1 函数定义格式"></a>6.2.1 函数定义格式</h5><blockquote>
<p>函数定义的一般形式：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">返回类型 函数名(形式参数列表)<br>	&#123;<br>		数据定义部分;<br>		执行语句部分;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/road2dasheng/img/07/clip_image002-16795421724381.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="20150310105403075"></p>
</blockquote>
<h5 id="6-2-2-函数名字、形参、函数体、返回值"><a href="#6-2-2-函数名字、形参、函数体、返回值" class="headerlink" title="6.2.2 函数名字、形参、函数体、返回值"></a>6.2.2 函数名字、形参、函数体、返回值</h5><p>(1) 函数名</p>
<blockquote>
<p>理论上是可以随意起名字，最好起的名字见名知意，应该让用户看到这个函数名字就知道这个函数的功能。注意，函数名的后面有个圆换号()，代表这个为函数，不是普通的变量名。</p>
</blockquote>
<p>(2) 形参列表</p>
<blockquote>
<p>在定义函数时指定的形参，在未出现函数调用时，它们并不占内存中的存储单元，因此称它们是形式参数或虚拟参数，简称形参，表示它们并不是实际存在的数据，所以，形参里的变量不能赋值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span> a = <span class="hljs-number">10</span>, <span class="hljs-type">int</span> b = <span class="hljs-number">20</span>)</span> <span class="hljs-comment">// error, 形参不能赋值</span><br>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在定义函数时指定的形参，必须是，类型+变量的形式：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//1: right, 类型+变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span><br>&#123;<br>&#125;<br><br><span class="hljs-comment">//2: error, 只有类型，没有变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>)</span><br>&#123;<br>&#125;<br><br><span class="hljs-comment">//3: error, 只有变量，没有类型</span><br><span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b;<br><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">(a, b)</span><br>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在定义函数时指定的形参，可有可无，根据函数的需要来设计，如果没有形参，圆括号内容为空，或写一个void关键字：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 没形参， 圆括号内容为空</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">()</span><br>&#123;<br>&#125;<br><br><span class="hljs-comment">// 没形参， 圆括号内容为void关键字</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<p>(3) 函数体</p>
<blockquote>
<p>花括号{ }里的内容即为函数体的内容，这里为函数功能实现的过程，这和以前的写代码没太大区别，以前我们把代码写在main()函数里，现在只是把这些写到别的函数里。</p>
</blockquote>
<p>(4) 返回值</p>
<blockquote>
<p>函数的返回值是通过函数中的return语句获得的，return后面的值也可以是一个表达式。</p>
<p>a) 尽量保证return语句中表达式的值和函数返回类型是同一类型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">()</span> <span class="hljs-comment">// 函数的返回值为int类型</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-keyword">return</span> a;<span class="hljs-comment">// 返回值a为int类型，函数返回类型也是int，匹配</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>b) 如果函数返回的类型和return语句中表达式的值不一致，则以函数返回类型为准，即函数返回类型决定返回值的类型。对数值型数据，可以自动进行类型转换。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">double</span> <span class="hljs-title function_">max</span><span class="hljs-params">()</span> <span class="hljs-comment">// 函数的返回值为double类型</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-keyword">return</span> a;<span class="hljs-comment">// 返回值a为int类型，它会转为double类型再返回</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>注意：如果函数返回的类型和return语句中表达式的值不一致，而它又无法自动进行类型转换，程序则会报错。</p>
<p>c) return语句的另一个作用为中断return所在的执行函数，类似于break中断循环、switch语句一样。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<span class="hljs-comment">// 执行到，函数已经被中断，所以下面的return 2无法被执行到</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<span class="hljs-comment">// 没有执行</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>d) 如果函数带返回值，return后面必须跟着一个值，如果函数没有返回值，函数名字的前面必须写一个void关键字，这时候，我们写代码时也可以通过return中断函数(也可以不用)，只是这时，return后面不带内容( 分号“；”除外)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">max</span><span class="hljs-params">()</span><span class="hljs-comment">// 最好要有void关键字</span><br>&#123;<br>	<span class="hljs-keyword">return</span>; <span class="hljs-comment">// 中断函数，这个可有可无</span><br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="6-3-函数的调用"><a href="#6-3-函数的调用" class="headerlink" title="6.3 函数的调用"></a>6.3 函数的调用</h4><blockquote>
<p>定义函数后，我们需要调用此函数才能执行到这个函数里的代码段。这和main()函数不一样，main()为编译器设定好自动调用的主函数，无需人为调用，我们都是在main()函数里调用别的函数，一个 C 程序里有且只有一个main()函数。</p>
</blockquote>
<h5 id="6-3-1-函数执行流程"><a href="#6-3-1-函数执行流程" class="headerlink" title="6.3.1 函数执行流程"></a>6.3.1 函数执行流程</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">print_test</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;this is for test\n&quot;</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	print_test();	<span class="hljs-comment">// print_test函数的调用</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>- 1) 进入main()函数</p>
<p>- 2) 调用print_test()函数：</p>
<p>a. 它会在main()函数的前寻找有没有一个名字叫“print_test”的函数定义；</p>
<p>b. 如果找到，接着检查函数的参数，这里调用函数时没有传参，函数定义也没有形参，参数类型匹配；</p>
<p>c. 开始执行print_test()函数，这时候，main()函数里面的执行会阻塞( 停 )在print_test()这一行代码，等待print_test()函数的执行。</p>
<p>- 3) print_test()函数执行完( 这里打印一句话 )，main()才会继续往下执行，执行到return 0, 程序执行完毕。</p>
</blockquote>
<h5 id="6-3-2-函数的形参和实参"><a href="#6-3-2-函数的形参和实参" class="headerlink" title="6.3.2 函数的形参和实参"></a>6.3.2 函数的形参和实参</h5><blockquote>
<ul>
<li><p>形参出现在函数定义中，在整个函数体内都可以使用，离开该函数则不能使用。</p>
</li>
<li><p>实参出现在主调函数中，进入被调函数后，实参也不能使用。</p>
</li>
<li><p>实参变量对形参变量的数据传递是“值传递”，即单向传递，只由实参传给形参，而不能由形参传回来给实参。</p>
</li>
<li><p>在调用函数时，编译系统临时给形参分配存储单元。调用结束后，形参单元被释放。</p>
</li>
<li><p>实参单元与形参单元是不同的单元。调用结束后，形参单元被释放，函数调用结束返回主调函数后则不能再使用该形参变量。实参单元仍保留并维持原值。因此，在执行一个被调用函数时，形参的值如果发生改变，并不会改变主调函数中实参的值。</p>
</li>
</ul>
</blockquote>
<h5 id="6-3-3-无参函数调用"><a href="#6-3-3-无参函数调用" class="headerlink" title="6.3.3 无参函数调用"></a>6.3.3 无参函数调用</h5><blockquote>
<p>如果是调用无参函数，则不能加上“实参”，但括号不能省略。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 函数的定义</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span><br>&#123;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">// 函数的调用</span><br>	test();	<span class="hljs-comment">// right, 圆括号()不能省略</span><br>	test(<span class="hljs-number">250</span>); <span class="hljs-comment">// error, 函数定义时没有参数</span><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="6-3-4-有参函数调用"><a href="#6-3-4-有参函数调用" class="headerlink" title="6.3.4 有参函数调用"></a>6.3.4 有参函数调用</h5><blockquote>
<p>a)如果实参表列包含多个实参，则各参数间用逗号隔开。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 函数的定义</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span><br>&#123;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> p = <span class="hljs-number">10</span>, q = <span class="hljs-number">20</span>;<br>	test(p, q);	<span class="hljs-comment">// 函数的调用</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>b)实参与形参的个数应相等，类型应匹配(相同或赋值兼容)。实参与形参按顺序对应，一对一地传递数据。</p>
<p>c)实参可以是常量、变量或表达式，无论实参是何种类型的量，在进行函数调用时，它们都必须具有确定的值，以便把这些值传送给形参。所以，这里的变量是在圆括号( )外面定义好、赋好值的变量。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 函数的定义</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span><br>&#123;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">// 函数的调用</span><br>	<span class="hljs-type">int</span> p = <span class="hljs-number">10</span>, q = <span class="hljs-number">20</span>;<br>	test(p, q);	<span class="hljs-comment">// right</span><br>	test(<span class="hljs-number">11</span>, <span class="hljs-number">30</span> - <span class="hljs-number">10</span>); <span class="hljs-comment">// right</span><br><br>	test(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b); <span class="hljs-comment">// error, 不应该在圆括号里定义变量</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="6-3-5-函数返回值"><a href="#6-3-5-函数返回值" class="headerlink" title="6.3.5 函数返回值"></a>6.3.5 函数返回值</h5><blockquote>
<p>a）如果函数定义没有返回值，函数调用时不能写void关键字，调用函数时也不能接收函数的返回值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 函数的定义</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span><br>&#123;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">// 函数的调用</span><br>	test(); <span class="hljs-comment">// right</span><br>	<span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>; <span class="hljs-comment">// error, void关键字只能出现在定义，不可能出现在调用的地方</span><br>	<span class="hljs-type">int</span> a = test();	<span class="hljs-comment">// error, 函数定义根本就没有返回值</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure>

</blockquote>
<h4 id="6-4-函数的声明"><a href="#6-4-函数的声明" class="headerlink" title="6.4 函数的声明"></a>6.4 函数的声明</h4><blockquote>
<ul>
<li><p>如果使用用户自己定义的函数，而该函数与调用它的函数（即主调函数）不在同一文件中，或者函数定义的位置在主调函数之后，则必须在调用此函数之前对被调用的函数作声明。</p>
</li>
<li><p>所谓函数声明，就是在函数尚在未定义的情况下，事先将该函数的有关信息通知编译系统，相当于告诉编译器，函数在后面定义，以便使编译能正常进行</p>
</li>
<li><p>注意：一个函数只能被定义一次，但可以声明多次。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span>; <span class="hljs-comment">// 函数的声明，分号不能省略</span><br><span class="hljs-comment">// int max(int, int); // 另一种方式</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>, b = <span class="hljs-number">25</span>, num_max = <span class="hljs-number">0</span>;<br>    num_max = max(a, b); <span class="hljs-comment">// 函数的调用</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num_max = %d\n&quot;</span>, num_max);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 函数的定义</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> x &gt; y ? x : y;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="6-5-main函数与exit函数"><a href="#6-5-main函数与exit函数" class="headerlink" title="6.5 main函数与exit函数"></a>6.5 main函数与exit函数</h4><blockquote>
<p>在main函数中调用exit和return结果是一样的，但在子函数中调用return只是代表子函数终止了，在子函数中调用exit，那么程序终止。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fun\n&quot;</span>);<br>    <span class="hljs-comment">//return;</span><br>    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    fun();<br>    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="6-6-多文件-分文件-编程"><a href="#6-6-多文件-分文件-编程" class="headerlink" title="6.6 多文件(分文件)编程"></a>6.6 多文件(分文件)编程</h4><h5 id="6-6-1-分文件编程"><a href="#6-6-1-分文件编程" class="headerlink" title="6.6.1 分文件编程"></a>6.6.1 分文件编程</h5><blockquote>
<ul>
<li><p>把函数声明放在头文件xxx.h中，在主函数中包含相应头文件</p>
</li>
<li><p>在头文件对应的xxx.c中实现xxx.h声明的函数</p>
</li>
</ul>
</blockquote>
<p><img src="/road2dasheng/img/07%5C2023-03-23-23-23-59-image.png" srcset="/road2dasheng/img/loading.gif" lazyload></p>
<h5 id="6-6-2-防止头文件重复包含"><a href="#6-6-2-防止头文件重复包含" class="headerlink" title="6.6.2  防止头文件重复包含"></a>6.6.2  防止头文件重复包含</h5><blockquote>
<p>当一个项目比较大时，往往都是分文件，这时候有可能不小心把同一个头文件 include 多次，或者头文件嵌套包含。</p>
<p><img src="/road2dasheng/img/07%5C2023-03-23-23-26-28-image.png" srcset="/road2dasheng/img/loading.gif" lazyload></p>
</blockquote>
<blockquote>
<p>为了避免同一个文件被include多次，C&#x2F;C++中有两种方式，一种是 #ifndef 方式，一种是 #pragma once 方式。</p>
<p><img src="/road2dasheng/img/07%5C2023-03-23-23-28-21-image.png" srcset="/road2dasheng/img/loading.gif" lazyload></p>
</blockquote>
<hr>
<h3 id="七、指针"><a href="#七、指针" class="headerlink" title="七、指针"></a>七、指针</h3><h4 id="7-1-概述"><a href="#7-1-概述" class="headerlink" title="7.1 概述"></a>7.1 概述</h4><h5 id="7-1-1-内存"><a href="#7-1-1-内存" class="headerlink" title="7.1.1 内存"></a>7.1.1 内存</h5><blockquote>
<p>内存含义：</p>
<ul>
<li><p>存储器：计算机的组成中，用来存储程序和数据，辅助CPU进行运算处理的重要部分。</p>
</li>
<li><p>内存：内部存贮器，暂存程序&#x2F;数据——掉电丢失 SRAM、DRAM、DDR、DDR2、DDR3。</p>
</li>
<li><p>外存：外部存储器，长时间保存程序&#x2F;数据—掉电不丢ROM、ERRROM、FLASH（NAND、NOR）、硬盘、光盘。</p>
</li>
</ul>
</blockquote>
<blockquote>
<p>内存是沟通CPU与硬盘的桥梁：</p>
<ul>
<li><p>暂存放CPU中的运算数据</p>
</li>
<li><p>暂存与硬盘等外部存储器交换的数据</p>
</li>
</ul>
</blockquote>
<h5 id="7-1-2-物理存储器和存储地址空间"><a href="#7-1-2-物理存储器和存储地址空间" class="headerlink" title="7.1.2 物理存储器和存储地址空间"></a>7.1.2 物理存储器和存储地址空间</h5><blockquote>
<p>有关内存的两个概念：物理存储器和存储地址空间。</p>
<p>物理存储器：实际存在的具体存储器芯片。</p>
<ul>
<li><p>主板上装插的内存条</p>
</li>
<li><p>显示卡上的显示RAM芯片</p>
</li>
<li><p>各种适配卡上的RAM芯片和ROM芯片</p>
</li>
</ul>
<p>存储地址空间：对存储器编码的范围。我们在软件上常说的内存是指这一层含义。</p>
<ul>
<li><p>编码：对每个物理存储单元（一个字节）分配一个号码</p>
</li>
<li><p>寻址：可以根据分配的号码找到相应的存储单元，完成数据的读写</p>
</li>
</ul>
</blockquote>
<h5 id="7-1-3-内存地址"><a href="#7-1-3-内存地址" class="headerlink" title="7.1.3 内存地址"></a>7.1.3 内存地址</h5><blockquote>
<ul>
<li><p>将内存抽象成一个很大的一维字符数组。</p>
</li>
<li><p>编码就是对内存的每一个字节分配一个32位或64位的编号（与32位或者64位处理器相关）。</p>
</li>
<li><p>这个内存编号我们称之为内存地址。</p>
</li>
</ul>
</blockquote>
<blockquote>
<p>内存中的每一个数据都会分配相应的地址：</p>
<ul>
<li><p>char:占一个字节分配一个地址</p>
</li>
<li><p>int: 占四个字节分配四个地址</p>
</li>
<li><p>float、struct、函数、数组等</p>
</li>
</ul>
<p><img src="/road2dasheng/img/07%5C2023-03-23-23-35-49-image.png" srcset="/road2dasheng/img/loading.gif" lazyload></p>
</blockquote>
<h5 id="7-1-4-指针和指针变量"><a href="#7-1-4-指针和指针变量" class="headerlink" title="7.1.4 指针和指针变量"></a>7.1.4 指针和指针变量</h5><blockquote>
<ul>
<li><p>内存区的每一个字节都有一个编号，这就是“地址”。</p>
</li>
<li><p>如果在程序中定义了一个变量，在对程序进行编译或运行时，系统就会给这个变量分配内存单元，并确定它的内存地址(编号)</p>
</li>
<li><p>指针的实质就是内存“地址”。指针就是地址，地址就是指针。</p>
</li>
<li><p>指针是内存单元的编号，指针变量是存放地址的变量。</p>
</li>
<li><p>通常我们叙述时会把指针变量简称为指针，实际他们含义并不一样。</p>
</li>
</ul>
</blockquote>
<blockquote>
<p><img src="/road2dasheng/img/07%5C2023-03-23-23-38-08-image.png" srcset="/road2dasheng/img/loading.gif" lazyload></p>
</blockquote>
<h4 id="7-2-指针基础知识"><a href="#7-2-指针基础知识" class="headerlink" title="7.2 指针基础知识"></a>7.2 指针基础知识</h4><h5 id="7-2-1-指针变量的定义和使用"><a href="#7-2-1-指针变量的定义和使用" class="headerlink" title="7.2.1 指针变量的定义和使用"></a>7.2.1 指针变量的定义和使用</h5><blockquote>
<ul>
<li><p>指针也是一种数据类型，指针变量也是一种变量</p>
</li>
<li><p>指针变量指向谁，就把谁的地址赋值给指针变量</p>
</li>
<li><p>“*”操作符操作的是指针变量指向的内存空间</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">char</span> b = <span class="hljs-number">100</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p, %p\n&quot;</span>, &amp;a, &amp;b); <span class="hljs-comment">//打印a, b的地址</span><br><br>    <span class="hljs-comment">//int *代表是一种数据类型，int*指针类型，p才是变量名</span><br>    <span class="hljs-comment">//定义了一个指针类型的变量，可以指向一个int类型变量的地址</span><br>    <span class="hljs-type">int</span> *p;<br>    p = &amp;a;<span class="hljs-comment">//将a的地址赋值给变量p，p也是一个变量，值是一个内存地址编号</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, *p);<span class="hljs-comment">//p指向了a的地址，*p就是a的值</span><br><br>    <span class="hljs-type">char</span> *p1 = &amp;b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, *p1);<span class="hljs-comment">//*p1指向了b的地址，*p1就是b的值</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>注意：&amp;可以取得一个变量在内存中的地址。但是，不能取寄存器变量，因为寄存器变量不在内存里，而在CPU里面，所以是没有地址的。</p>
</blockquote>
<h5 id="7-2-2-通过指针间接修改变量的值"><a href="#7-2-2-通过指针间接修改变量的值" class="headerlink" title="7.2.2 通过指针间接修改变量的值"></a>7.2.2 通过指针间接修改变量的值</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">11</span>;<br><span class="hljs-type">int</span> *p = &amp;a;<br><br>*p = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d, *p = %d\n&quot;</span>, a, *p);<br><br>p = &amp;b;<br>*p = <span class="hljs-number">22</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;b = %d, *p = %d\n&quot;</span>, b, *p);<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-2-3-指针大小"><a href="#7-2-3-指针大小" class="headerlink" title="7.2.3 指针大小"></a>7.2.3 指针大小</h5><blockquote>
<ul>
<li><p>使用sizeof()测量指针的大小，得到的总是：4或8</p>
</li>
<li><p>sizeof()测的是指针变量指向存储地址的大小</p>
</li>
<li><p>在32位平台，所有的指针（地址）都是32位(4字节)</p>
</li>
<li><p>在64位平台，所有的指针（地址）都是64位(8字节)</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> *p1;<br><span class="hljs-type">int</span> **p2;<br><span class="hljs-type">char</span> *p3;<br><span class="hljs-type">char</span> **p4;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(p1) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(p1));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(p2) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(p2));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(p3) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(p3));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(p4) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(p4));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sizeof(double *) = %d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">double</span> *));<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-2-4-野指针和空指针"><a href="#7-2-4-野指针和空指针" class="headerlink" title="7.2.4 野指针和空指针"></a>7.2.4 野指针和空指针</h5><blockquote>
<p>指针变量也是变量，是变量就可以任意赋值，不要越界即可（32位为4字节，64位为8字节），但是，任意数值赋值给指针变量没有意义，因为这样的指针就成了野指针，此指针指向的区域是未知(操作系统不允许操作此指针指向的内存区域)。所以，野指针不会直接引发错误，操作野指针指向的内存区域才会出问题。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> *p;<br>p = a; <span class="hljs-comment">//把a的值赋值给指针变量p，p为野指针， ok，不会有问题，但没有意义</span><br><br>p = <span class="hljs-number">0x12345678</span>; <span class="hljs-comment">//给指针变量p赋值，p为野指针， ok，不会有问题，但没有意义</span><br><br>*p = <span class="hljs-number">1000</span>;  <span class="hljs-comment">//操作野指针指向未知区域，内存出问题，err</span><br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>但是，野指针和有效指针变量保存的都是数值，为了标志此指针变量没有指向任何变量(空闲可用)，C语言中，可以把NULL赋值给此指针，这样就标志此指针为空指针，没有任何指针。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>NULL是一个值为0的宏常量：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> NULL ((void *)0)</span><br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-2-5-万能指针void"><a href="#7-2-5-万能指针void" class="headerlink" title="7.2.5 万能指针void *"></a>7.2.5 万能指针void *</h5><blockquote>
<p>void *指针可以指向任意变量的内存空间：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> *p = <span class="hljs-literal">NULL</span>;<br><br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>p = (<span class="hljs-type">void</span> *)&amp;a; <span class="hljs-comment">//指向变量时，最好转换为void *</span><br><br><span class="hljs-comment">//使用指针变量指向的内存时，转换为int *</span><br>*( (<span class="hljs-type">int</span> *)p ) = <span class="hljs-number">11</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-2-6-const修饰的指针变量"><a href="#7-2-6-const修饰的指针变量" class="headerlink" title="7.2.6 const修饰的指针变量"></a>7.2.6 const修饰的指针变量</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">100</span>;<br>    <span class="hljs-type">int</span> b = <span class="hljs-number">200</span>;<br><br><span class="hljs-comment">//指向常量的指针</span><br>    <span class="hljs-comment">//修饰*，指针指向内存区域不能修改，指针指向可以变</span><br>    <span class="hljs-type">const</span> <span class="hljs-type">int</span> * p1 = &amp;a; <span class="hljs-comment">//等价于int const *p1 = &amp;a;</span><br>    <span class="hljs-comment">//*p1 = 111; //err</span><br>    p1 = &amp;b; <span class="hljs-comment">//ok</span><br><br><span class="hljs-comment">//指针常量</span><br>    <span class="hljs-comment">//修饰p1，指针指向不能变，指针指向的内存可以修改</span><br>    <span class="hljs-type">int</span> * <span class="hljs-type">const</span> p2 = &amp;a;<br>    <span class="hljs-comment">//p2 = &amp;b; //err</span><br>    *p2 = <span class="hljs-number">222</span>; <span class="hljs-comment">//ok</span><br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>在编辑程序时，指针作为函数参数，如果不想修改指针对应内存空间的值，需要使用const修饰指针数据类型。</p>
</blockquote>
<h4 id="7-3-指针和数组"><a href="#7-3-指针和数组" class="headerlink" title="7.3 指针和数组"></a>7.3 指针和数组</h4><h5 id="7-3-1-数组名"><a href="#7-3-1-数组名" class="headerlink" title="7.3.1 数组名"></a>7.3.1 数组名</h5><blockquote>
<p>数组名字是数组的首元素地址，但它是一个常量：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %p\n&quot;</span>, a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;a[0] = %p\n&quot;</span>, &amp;a[<span class="hljs-number">0</span>]);<br><br>	<span class="hljs-comment">//a = 10; //err, 数组名只是常量，不能修改</span><br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-3-2-指针操作数组元素"><a href="#7-3-2-指针操作数组元素" class="headerlink" title="7.3.2 指针操作数组元素"></a>7.3.2 指针操作数组元素</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span>  <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]);<br>	<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-comment">//printf(&quot;%d, &quot;, a[i]);</span><br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, *(a+i));<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>	<span class="hljs-type">int</span> *p = a; <span class="hljs-comment">//定义一个指针变量保存a的地址</span><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		p[i] = <span class="hljs-number">2</span> * i;<br>	&#125;<br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, *(p + i));<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-3-3-指针加减运算"><a href="#7-3-3-指针加减运算" class="headerlink" title="7.3.3 指针加减运算"></a>7.3.3 指针加减运算</h5><blockquote>
<p>(1) 加法运算</p>
<ul>
<li><p>指针计算不是简单的整数相加</p>
</li>
<li><p>如果是一个int *，+1的结果是增加一个int的大小</p>
</li>
<li><p>如果是一个char *，+1的结果是增加一个char大小</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a;<br>	<span class="hljs-type">int</span> *p = &amp;a;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, p);<br>	p += <span class="hljs-number">2</span>;<span class="hljs-comment">//移动了2个int</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, p);<br><br>	<span class="hljs-type">char</span> b = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">char</span> *p1 = &amp;b;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, p1);<br>	p1 += <span class="hljs-number">2</span>;<span class="hljs-comment">//移动了2个char</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, p1);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>通过改变指针指向操作数组元素：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]);<br><br>	<span class="hljs-type">int</span> *p = a;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, *p);<br>		p++;<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 减法运算</p>
<p>示例1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]);<br><br>	<span class="hljs-type">int</span> *p = a+n<span class="hljs-number">-1</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, *p);<br>		p--;<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-type">int</span> *p2 = &amp;a[<span class="hljs-number">2</span>]; <span class="hljs-comment">//第2个元素地址</span><br>	<span class="hljs-type">int</span> *p1 = &amp;a[<span class="hljs-number">1</span>]; <span class="hljs-comment">//第1个元素地址</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;p1 = %p, p2 = %p\n&quot;</span>, p1, p2);<br><br>	<span class="hljs-type">int</span> n1 = p2 - p1; <span class="hljs-comment">//n1 = 1</span><br>	<span class="hljs-type">int</span> n2 = (<span class="hljs-type">int</span>)p2 - (<span class="hljs-type">int</span>)p1; <span class="hljs-comment">//n2 = 4</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n1 = %d, n2 = %d\n&quot;</span>, n1, n2);<br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-3-4-指针数组"><a href="#7-3-4-指针数组" class="headerlink" title="7.3.4 指针数组"></a>7.3.4 指针数组</h5><blockquote>
<p>指针数组，它是数组，数组的每个元素都是指针类型。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//指针数组</span><br>	<span class="hljs-type">int</span> *p[<span class="hljs-number">3</span>];<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;<br>	<span class="hljs-type">int</span> c = <span class="hljs-number">3</span>;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><br>	p[<span class="hljs-number">0</span>] = &amp;a;<br>	p[<span class="hljs-number">1</span>] = &amp;b;<br>	p[<span class="hljs-number">2</span>] = &amp;c;<br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">sizeof</span>(p) / <span class="hljs-keyword">sizeof</span>(p[<span class="hljs-number">0</span>]); i++ )<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, *(p[i]));<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="7-4-多级指针"><a href="#7-4-多级指针" class="headerlink" title="7.4 多级指针"></a>7.4 多级指针</h4><blockquote>
<ul>
<li><p>C语言允许有多级指针存在，在实际的程序中一级指针最常用，其次是二级指针。</p>
</li>
<li><p>二级指针就是指向一个一级指针变量地址的指针。</p>
</li>
<li><p>三级指针基本用不着，但考试会考。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> *p = &amp;a; <span class="hljs-comment">//一级指针</span><br>*p = <span class="hljs-number">100</span>; <span class="hljs-comment">//*p就是a</span><br><br><span class="hljs-type">int</span> **q = &amp;p;<br><span class="hljs-comment">//*q就是p</span><br><span class="hljs-comment">//**q就是a</span><br><br><span class="hljs-type">int</span> ***t = &amp;q;<br><span class="hljs-comment">//*t就是q</span><br><span class="hljs-comment">//**t就是p</span><br><span class="hljs-comment">//***t就是a</span><br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="7-5-指针和函数"><a href="#7-5-指针和函数" class="headerlink" title="7.5 指针和函数"></a>7.5 指针和函数</h4><h5 id="7-5-1-函数形参改变实参的值"><a href="#7-5-1-函数形参改变实参的值" class="headerlink" title="7.5.1 函数形参改变实参的值"></a>7.5.1 函数形参改变实参的值</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">swap1</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span><br>&#123;<br>	<span class="hljs-type">int</span> tmp;<br>	tmp = x;<br>	x = y;<br>	y = tmp;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;x = %d, y = %d\n&quot;</span>, x, y);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">swap2</span><span class="hljs-params">(<span class="hljs-type">int</span> *x, <span class="hljs-type">int</span> *y)</span><br>&#123;<br>	<span class="hljs-type">int</span> tmp;<br>	tmp = *x;<br>	*x = *y;<br>	*y = tmp;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">3</span>;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">5</span>;<br>	swap1(a, b); <span class="hljs-comment">//值传递</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d, b = %d\n&quot;</span>, a, b);<br><br>	a = <span class="hljs-number">3</span>;<br>	b = <span class="hljs-number">5</span>;<br>	swap2(&amp;a, &amp;b); <span class="hljs-comment">//地址传递</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a2 = %d, b2 = %d\n&quot;</span>, a, b);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-5-2-数组名做函数参数"><a href="#7-5-2-数组名做函数参数" class="headerlink" title="7.5.2 数组名做函数参数"></a>7.5.2 数组名做函数参数</h5><blockquote>
<p>数组名做函数参数，函数的形参会退化为指针：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">printArrary</span><span class="hljs-params">(<span class="hljs-type">int</span> *a, <span class="hljs-type">int</span> n)</span><br>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, a[i]);<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(a) / <span class="hljs-keyword">sizeof</span>(a[<span class="hljs-number">0</span>]);<br><br>	<span class="hljs-comment">//数组名做函数参数</span><br>	printArrary(a, n); <br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-5-3-指针做为函数的返回值"><a href="#7-5-3-指针做为函数的返回值" class="headerlink" title="7.5.3 指针做为函数的返回值"></a>7.5.3 指针做为函数的返回值</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><br><span class="hljs-type">int</span> *<span class="hljs-title function_">getA</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-keyword">return</span> &amp;a;<br>&#125;<br><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	*( getA() ) = <span class="hljs-number">111</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="7-6-指针和字符串"><a href="#7-6-指针和字符串" class="headerlink" title="7.6 指针和字符串"></a>7.6 指针和字符串</h4><h5 id="7-6-1-字符指针"><a href="#7-6-1-字符指针" class="headerlink" title="7.6.1 字符指针"></a>7.6.1 字符指针</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> str[] = <span class="hljs-string">&quot;hello world&quot;</span>;<br>	<span class="hljs-type">char</span> *p = str;<br>	*p = <span class="hljs-string">&#x27;m&#x27;</span>;<br>	p++;<br>	*p = <span class="hljs-string">&#x27;i&#x27;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, str);<br><br>	p = <span class="hljs-string">&quot;mike jiang&quot;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, p);<br><br>	<span class="hljs-type">char</span> *q = <span class="hljs-string">&quot;test&quot;</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, q);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-6-2-字符指针做函数参数"><a href="#7-6-2-字符指针做函数参数" class="headerlink" title="7.6.2 字符指针做函数参数"></a>7.6.2 字符指针做函数参数</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">mystrcat</span><span class="hljs-params">(<span class="hljs-type">char</span> *dest, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src)</span><br>&#123;<br>	<span class="hljs-type">int</span> len1 = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> len2 = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (dest[len1])<br>	&#123;<br>		len1++;<br>	&#125;<br>	<span class="hljs-keyword">while</span> (src[len2])<br>	&#123;<br>		len2++;<br>	&#125;<br><br>	<span class="hljs-type">int</span> i;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len2; i++)<br>	&#123;<br>		dest[len1 + i] = src[i];<br>	&#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">char</span> dst[<span class="hljs-number">100</span>] = <span class="hljs-string">&quot;hello mike&quot;</span>;<br>	<span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;123456&quot;</span>;<br>	<br>	mystrcat(dst, src);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;dst = %s\n&quot;</span>, dst);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-6-3-const修饰的指针变量"><a href="#7-6-3-const修饰的指针变量" class="headerlink" title="7.6.3 const修饰的指针变量"></a>7.6.3 const修饰的指针变量</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	<span class="hljs-comment">//const修饰一个变量为只读</span><br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-comment">//a = 100; //err</span><br><br>	<span class="hljs-comment">//指针变量， 指针指向的内存， 2个不同概念</span><br>	<span class="hljs-type">char</span> buf[] = <span class="hljs-string">&quot;aklgjdlsgjlkds&quot;</span>;<br><br>	<span class="hljs-comment">//从左往右看，跳过类型，看修饰哪个字符</span><br>	<span class="hljs-comment">//如果是*， 说明指针指向的内存不能改变</span><br>	<span class="hljs-comment">//如果是指针变量，说明指针的指向不能改变，指针的值不能修改</span><br>	<span class="hljs-type">const</span> <span class="hljs-type">char</span> *p = buf;<br>	<span class="hljs-comment">// 等价于上面 char const *p1 = buf;</span><br>	<span class="hljs-comment">//p[1] = &#x27;2&#x27;; //err</span><br>	p = <span class="hljs-string">&quot;agdlsjaglkdsajgl&quot;</span>; <span class="hljs-comment">//ok</span><br><br>	<span class="hljs-type">char</span> * <span class="hljs-type">const</span> p2 = buf;<br>	p2[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;3&#x27;</span>;<br>	<span class="hljs-comment">//p2 = &quot;salkjgldsjaglk&quot;; //err</span><br><br>	<span class="hljs-comment">//p3为只读，指向不能变，指向的内存也不能变</span><br>	<span class="hljs-type">const</span> <span class="hljs-type">char</span> * <span class="hljs-type">const</span> p3 = buf;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-6-4-指针数组做为main函数的形参"><a href="#7-6-4-指针数组做为main函数的形参" class="headerlink" title="7.6.4 指针数组做为main函数的形参"></a>7.6.4 指针数组做为main函数的形参</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span>;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>main函数是操作系统调用的，第一个参数标明argc数组的成员数量，argv数组的每个成员都是char *类型</p>
</li>
<li><p>argv是命令行参数的字符串数组</p>
</li>
<li><p>argc代表命令行参数的数量，程序名字本身算一个参数</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//argc: 传参数的个数（包含可执行程序）</span><br><span class="hljs-comment">//argv：指针数组，指向输入的参数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br><br>	<span class="hljs-comment">//指针数组，它是数组，每个元素都是指针</span><br>	<span class="hljs-type">char</span> *a[] = &#123; <span class="hljs-string">&quot;aaaaaaa&quot;</span>, <span class="hljs-string">&quot;bbbbbbbbbb&quot;</span>, <span class="hljs-string">&quot;ccccccc&quot;</span> &#125;;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;argc = %d\n&quot;</span>, argc);<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; argc; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, argv[i]);<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-6-5-项目开发常用字符串应用模型"><a href="#7-6-5-项目开发常用字符串应用模型" class="headerlink" title="7.6.5 项目开发常用字符串应用模型"></a>7.6.5 项目开发常用字符串应用模型</h5><blockquote>
<p>(1) strstr中的while和do-while模型</p>
<p>利用strstr标准库函数找出一个字符串中substr出现的个数。</p>
<p>a) while模型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	<span class="hljs-type">char</span> *p = <span class="hljs-string">&quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>;<br><br>	<span class="hljs-keyword">while</span> ((p = <span class="hljs-built_in">strstr</span>(p, <span class="hljs-string">&quot;abcd&quot;</span>)) != <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-comment">//能进来，肯定有匹配的子串</span><br>		<span class="hljs-comment">//重新设置起点位置</span><br>		p = p + <span class="hljs-built_in">strlen</span>(<span class="hljs-string">&quot;abcd&quot;</span>);<br>		n++;<br><br>		<span class="hljs-keyword">if</span> (*p == <span class="hljs-number">0</span>) <span class="hljs-comment">//如果到结束符</span><br>		&#123;<br>			<span class="hljs-keyword">break</span>;<br>		&#125;<br><br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n = %d\n&quot;</span>, n);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>b) do-while模型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	<span class="hljs-type">char</span> *p = <span class="hljs-string">&quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>;<br><br>	<span class="hljs-keyword">do</span><br>	&#123;<br>		p = <span class="hljs-built_in">strstr</span>(p, <span class="hljs-string">&quot;abcd&quot;</span>);<br>		<span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>)<br>		&#123;<br>			n++; <span class="hljs-comment">//累计个数</span><br><br>			<span class="hljs-comment">//重新设置查找的起点</span><br>			p = p + <span class="hljs-built_in">strlen</span>(<span class="hljs-string">&quot;abcd&quot;</span>);<br><br>		&#125;<br>		<span class="hljs-keyword">else</span> <span class="hljs-comment">//如果没有匹配的字符串，跳出循环</span><br>		&#123;<br>			<span class="hljs-keyword">break</span>;<br>		&#125;<br>	&#125; <span class="hljs-keyword">while</span> (*p != <span class="hljs-number">0</span>); <span class="hljs-comment">//如果没有到结尾</span><br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n = %d\n&quot;</span>, n);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 两头堵模型</p>
<p>求非空字符串元素的个数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ctype.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">fun</span><span class="hljs-params">(<span class="hljs-type">char</span> *p, <span class="hljs-type">int</span> *n)</span><br>&#123;<br>	<span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span> || n == <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>	&#125;<br><br>	<span class="hljs-type">int</span> begin = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> end = <span class="hljs-built_in">strlen</span>(p) - <span class="hljs-number">1</span>;<br><br>	<span class="hljs-comment">//从左边开始</span><br>	<span class="hljs-comment">//如果当前字符为空，而且没有结束</span><br>	<span class="hljs-keyword">while</span> (p[begin] == <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp; p[begin] != <span class="hljs-number">0</span>)<br>	&#123;<br>		begin++; <span class="hljs-comment">//位置从右移动一位</span><br>	&#125;<br><br>	<span class="hljs-comment">//从右往左移动</span><br>	<span class="hljs-keyword">while</span> (p[end] == <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp; end &gt; <span class="hljs-number">0</span>)<br>	&#123;<br>		end--; <span class="hljs-comment">//往左移动</span><br>	&#125;<br><br>	<span class="hljs-keyword">if</span> (end == <span class="hljs-number">0</span>)<br>	&#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">-2</span>;<br>	&#125;<br><br>	<span class="hljs-comment">//非空元素个数</span><br>	*n = end - begin + <span class="hljs-number">1</span>;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	<span class="hljs-type">char</span> *p = <span class="hljs-string">&quot;      abcddsgadsgefg      &quot;</span>;<br>	<span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>;<br><br>	ret = fun(p, &amp;n);<br>	<span class="hljs-keyword">if</span> (ret != <span class="hljs-number">0</span>)<br>	&#123;<br>		<span class="hljs-keyword">return</span> ret;<br>	&#125;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;非空字符串元素个数：%d\n&quot;</span>, n);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 字符串反转模型(逆置)</p>
<p><img src="/road2dasheng/img/07%5Cclip_image002-16796347819601.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="图片1"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">inverse</span><span class="hljs-params">(<span class="hljs-type">char</span> *p)</span><br>&#123;<br>	<span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>	&#125;<br>	<span class="hljs-type">char</span> *str = p;<br>	<span class="hljs-type">int</span> begin = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> end = <span class="hljs-built_in">strlen</span>(str) - <span class="hljs-number">1</span>;<br>	<span class="hljs-type">char</span> tmp;<br><br>	<span class="hljs-keyword">while</span> (begin &lt; end)<br>	&#123;<br>		<span class="hljs-comment">//交换元素</span><br>		tmp = str[begin];<br>		str[begin] = str[end];<br>		str[end] = tmp;<br><br>		begin++;  <span class="hljs-comment">//往右移动位置</span><br>		end--;	    <span class="hljs-comment">//往左移动位置</span><br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	<span class="hljs-comment">//char *str = &quot;abcdefg&quot;; //文件常量区，内容不允许修改</span><br>	<span class="hljs-type">char</span> str[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><br>	<span class="hljs-type">int</span> ret = inverse(str);<br>	<span class="hljs-keyword">if</span> (ret != <span class="hljs-number">0</span>)<br>	&#123;<br>		<span class="hljs-keyword">return</span> ret;<br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str ========== %s\n&quot;</span>, str);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="7-6-6-字符串处理函数"><a href="#7-6-6-字符串处理函数" class="headerlink" title="7.6.6 字符串处理函数"></a>7.6.6 字符串处理函数</h5><blockquote>
<p>(1) strcpy()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strcpy</span><span class="hljs-params">(<span class="hljs-type">char</span> *dest, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src)</span>;<br>功能：把src所指向的字符串复制到dest所指向的空间中，<span class="hljs-string">&#x27;\0&#x27;</span>也会拷贝过去<br>参数：<br>	dest：目的字符串首地址<br>	src：源字符首地址<br>返回值：<br>	成功：返回dest字符串的首地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<p>注意：如果参数dest所指的内存空间不够大，可能会造成缓冲溢出的错误情况。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> dest[<span class="hljs-number">20</span>] = <span class="hljs-string">&quot;123456789&quot;</span>;<br><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-built_in">strcpy</span>(dest, src);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, dest);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) strncpy()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strncpy</span><span class="hljs-params">(<span class="hljs-type">char</span> *dest, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src, <span class="hljs-type">size_t</span> n)</span>;<br>功能：把src指向字符串的前n个字符复制到dest所指向的空间中，是否拷贝结束符看指定的长度是否包含<span class="hljs-string">&#x27;\0&#x27;</span>。<br>参数：<br>	dest：目的字符串首地址<br>	src：源字符首地址<br>	n：指定需要拷贝字符串个数<br>返回值：<br>	成功：返回dest字符串的首地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> dest[<span class="hljs-number">20</span>] ;<br><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;hello world&quot;</span>;<br><br><span class="hljs-built_in">strncpy</span>(dest, src, <span class="hljs-number">5</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, dest);<br><br>dest[<span class="hljs-number">5</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, dest);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) strcat()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strcat</span><span class="hljs-params">(<span class="hljs-type">char</span> *dest, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src)</span>;<br>功能：将src字符串连接到dest的尾部，‘\<span class="hljs-number">0</span>’也会追加过去<br>参数：<br>	dest：目的字符串首地址<br>	src：源字符首地址<br>返回值：<br>	成功：返回dest字符串的首地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str[<span class="hljs-number">20</span>] = <span class="hljs-string">&quot;123&quot;</span>;<br><span class="hljs-type">char</span> *src = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, <span class="hljs-built_in">strcat</span>(str, src));<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(4) strncat()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strncat</span><span class="hljs-params">(<span class="hljs-type">char</span> *dest, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src, <span class="hljs-type">size_t</span> n)</span>;<br>功能：将src字符串前n个字符连接到dest的尾部，‘\<span class="hljs-number">0</span>’也会追加过去<br>参数：<br>	dest：目的字符串首地址<br>	src：源字符首地址<br>	n：指定需要追加字符串个数<br>返回值：<br>	成功：返回dest字符串的首地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str[<span class="hljs-number">20</span>] = <span class="hljs-string">&quot;123&quot;</span>;<br><span class="hljs-type">char</span> *src = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, <span class="hljs-built_in">strncat</span>(str, src, <span class="hljs-number">5</span>));<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(5) strcmp()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">strcmp</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s1, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *s2)</span>;<br>功能：比较 s1 和 s2 的大小，比较的是字符ASCII码大小。<br>参数：<br>	s1：字符串<span class="hljs-number">1</span>首地址<br>	s2：字符串<span class="hljs-number">2</span>首地址<br>返回值：<br>	相等：<span class="hljs-number">0</span><br>	大于：&gt;<span class="hljs-number">0</span> 在不同操作系统<span class="hljs-built_in">strcmp</span>结果会不同   返回ASCII差值<br>	小于：&lt;<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> *str1 = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-type">char</span> *str2 = <span class="hljs-string">&quot;hello mike&quot;</span>;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(str1, str2) == <span class="hljs-number">0</span>)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1==str2\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(str1, str2) &gt; <span class="hljs-number">0</span>)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1&gt;str2\n&quot;</span>);<br>&#125;	<br><span class="hljs-keyword">else</span><br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1&lt;str2\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(6) strncmp()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">strncmp</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s1, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *s2, <span class="hljs-type">size_t</span> n)</span>;<br>功能：比较 s1 和 s2 前n个字符的大小，比较的是字符ASCII码大小。<br>参数：<br>	s1：字符串<span class="hljs-number">1</span>首地址<br>	s2：字符串<span class="hljs-number">2</span>首地址<br>	n：指定比较字符串的数量<br>返回值：<br>	相等：<span class="hljs-number">0</span><br>	大于： &gt; <span class="hljs-number">0</span><br>	小于： &lt; <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> *str1 = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-type">char</span> *str2 = <span class="hljs-string">&quot;hello mike&quot;</span>;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">strncmp</span>(str1, str2, <span class="hljs-number">5</span>) == <span class="hljs-number">0</span>)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1==str2\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(str1, <span class="hljs-string">&quot;hello world&quot;</span>) &gt; <span class="hljs-number">0</span>)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1&gt;str2\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1&lt;str2\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(7) sprintf()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">sprintf</span><span class="hljs-params">(<span class="hljs-type">char</span> *str, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *format, ...)</span>;<br>功能：根据参数format字符串来转换并格式化数据，然后将结果输出到str指定的空间中，直到出现字符串结束符 <span class="hljs-string">&#x27;\0&#x27;</span>  为止。<br>参数：<br>	str：字符串首地址<br>	format：字符串格式，用法和<span class="hljs-built_in">printf</span>()一样<br>返回值：<br>	成功：实际格式化的字符个数<br>	失败： - <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> dst[<span class="hljs-number">100</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d, src = %s&quot;</span>, a, src);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-type">int</span> len = <span class="hljs-built_in">sprintf</span>(dst, <span class="hljs-string">&quot;a = %d, src = %s&quot;</span>, a, src);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;dst = \&quot; %s\&quot;\n&quot;</span>, dst);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;len = %d\n&quot;</span>, len);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(8) sscanf()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">sscanf</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *str, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *format, ...)</span>;<br>功能：从str指定的字符串读取数据，并根据参数format字符串来转换并格式化数据。<br>参数：<br>	str：指定的字符串首地址<br>	format：字符串格式，用法和<span class="hljs-built_in">scanf</span>()一样<br>返回值：<br>	成功：参数数目，成功转换的值的个数<br>	失败： - <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;a=10, b=20&quot;</span>;<br><span class="hljs-type">int</span> a;<br><span class="hljs-type">int</span> b;<br><span class="hljs-built_in">sscanf</span>(src, <span class="hljs-string">&quot;a=%d,  b=%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a:%d, b:%d\n&quot;</span>, a, b);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(9) strchr()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strchr</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s, <span class="hljs-type">int</span> c)</span>;<br>功能：在字符串s中查找字母c出现的位置<br>参数：<br>	s：字符串首地址<br>	c：匹配字母(字符)<br>返回值：<br>	成功：返回第一次出现的c地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;ddda123abcd&quot;</span>;<br><span class="hljs-type">char</span> *p = <span class="hljs-built_in">strchr</span>(src, <span class="hljs-string">&#x27;a&#x27;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;p = %s\n&quot;</span>, p);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(10) strstr()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strstr</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *haystack, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *needle)</span>;<br>功能：在字符串haystack中查找字符串needle出现的位置<br>参数：<br>	haystack：源字符串首地址<br>	needle：匹配字符串首地址<br>返回值：<br>	成功：返回第一次出现的needle地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;ddddabcd123abcd333abcd&quot;</span>;<br><span class="hljs-type">char</span> *p = <span class="hljs-built_in">strstr</span>(src, <span class="hljs-string">&quot;abcd&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;p = %s\n&quot;</span>, p);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(11) strtok()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">char</span> *<span class="hljs-title function_">strtok</span><span class="hljs-params">(<span class="hljs-type">char</span> *str, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *delim)</span>;<br>功能：来将字符串分割成一个个片段。当strtok()在参数s的字符串中发现参数delim中包含的分割字符时, 则会将该字符改为\<span class="hljs-number">0</span> 字符，当连续出现多个时只替换第一个为\<span class="hljs-number">0</span>。<br>参数：<br>	str：指向欲分割的字符串<br>	delim：为分割字符串中包含的所有字符<br>返回值：<br>	成功：分割后字符串首地址<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p>在第一次调用时：strtok()必需给予参数s字符串</p>
</li>
<li><p>往后的调用则将参数s设置成NULL，每次调用成功则返回指向被分割出片段的指针</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> a[<span class="hljs-number">100</span>] = <span class="hljs-string">&quot;adc*fvcv*ebcy*hghbdfg*casdert&quot;</span>;<br><span class="hljs-type">char</span> *s = strtok(a, <span class="hljs-string">&quot;*&quot;</span>);<span class="hljs-comment">//将&quot;*&quot;分割的子串取出</span><br><span class="hljs-keyword">while</span> (s != <span class="hljs-literal">NULL</span>)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, s);<br>	s = strtok(<span class="hljs-literal">NULL</span>, <span class="hljs-string">&quot;*&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(12) atoi()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">atoi</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *nptr)</span>;<br>功能：atoi()会扫描nptr字符串，跳过前面的空格字符，直到遇到数字或正负号才开始做转换，而遇到非数字或字符串结束符(<span class="hljs-string">&#x27;\0&#x27;</span>)才结束转换，并将结果返回返回值。<br>参数：<br>	nptr：待转换的字符串<br>返回值：成功转换后整数<br></code></pre></td></tr></table></figure>

<p>类似的函数有：</p>
<ul>
<li><p>atof()：把一个小数形式的字符串转化为一个浮点数。</p>
</li>
<li><p>atol()：将一个字符串转化为long类型</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str1[] = <span class="hljs-string">&quot;-10&quot;</span>;<br><span class="hljs-type">int</span> num1 = atoi(str1);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num1 = %d\n&quot;</span>, num1);<br><br><span class="hljs-type">char</span> str2[] = <span class="hljs-string">&quot;0.123&quot;</span>;<br><span class="hljs-type">double</span> num2 = atof(str2);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num2 = %lf\n&quot;</span>, num2);<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="7-7-指针小结"><a href="#7-7-指针小结" class="headerlink" title="7.7 指针小结"></a>7.7 指针小结</h4><p><img src="/road2dasheng/img/07/image-20230324132455816.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230324132455816"></p>
<hr>
<h3 id="八、内存管理"><a href="#八、内存管理" class="headerlink" title="八、内存管理"></a>八、内存管理</h3><h4 id="8-1-作用域"><a href="#8-1-作用域" class="headerlink" title="8.1 作用域"></a>8.1 作用域</h4><blockquote>
<p>C语言变量的作用域分为：</p>
<ul>
<li><p>代码块作用域(代码块是{}之间的一段代码)</p>
</li>
<li><p>函数作用域</p>
</li>
<li><p>文件作用域</p>
</li>
</ul>
</blockquote>
<h5 id="8-1-1-局部变量"><a href="#8-1-1-局部变量" class="headerlink" title="8.1.1 局部变量"></a>8.1.1 局部变量</h5><blockquote>
<p>局部变量也叫auto自动变量(auto可写可不写)，一般情况下代码块{}内部定义的变量都是自动变量，它有如下特点：</p>
<ul>
<li><p>在一个函数内定义，只在函数范围内有效</p>
</li>
<li><p>在复合语句中定义，只在复合语句中有效</p>
</li>
<li><p>随着函数调用的结束或复合语句的结束局部变量的声明声明周期也结束</p>
</li>
<li><p>如果没有赋初值，内容为随机</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//auto写不写是一样的</span><br>	<span class="hljs-comment">//auto只能出现在&#123;&#125;内部</span><br>	<span class="hljs-keyword">auto</span> <span class="hljs-type">int</span> b = <span class="hljs-number">10</span>; <br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	<span class="hljs-comment">//b = 100; //err， 在main作用域中没有b</span><br><br>	<span class="hljs-keyword">if</span> (<span class="hljs-number">1</span>)<br>	&#123;<br>		<span class="hljs-comment">//在复合语句中定义，只在复合语句中有效</span><br>		<span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br>	&#125;<br><br>	<span class="hljs-comment">//a = 10; //err离开if()的复合语句，a已经不存在</span><br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="8-1-2-静态-static-局部变量"><a href="#8-1-2-静态-static-局部变量" class="headerlink" title="8.1.2 静态(static)局部变量"></a>8.1.2 静态(static)局部变量</h5><blockquote>
<ul>
<li><p>static局部变量的作用域也是在定义的函数内有效</p>
</li>
<li><p>static局部变量的生命周期和程序运行周期一样，同时staitc局部变量的值只初始化一次，但可以赋值多次</p>
</li>
<li><p>static局部变量若未赋以初值，则由系统自动赋值：数值型变量自动赋初值0，字符型变量赋空字符</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun1</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	i++;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;i = %d\n&quot;</span>, i);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun2</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//静态局部变量，没有赋值，系统赋值为0，而且只会初始化一次</span><br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> a;<br>	a++;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n&quot;</span>, a);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	fun1();<br>	fun1();<br>	fun2();<br>	fun2();<br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="8-1-3-全局变量"><a href="#8-1-3-全局变量" class="headerlink" title="8.1.3 全局变量"></a>8.1.3 全局变量</h5><blockquote>
<ul>
<li>在函数外定义，可被本文件及其它文件中的函数所共用，若其它文件中的函数调用此变量,须用extern声明</li>
<li>全局变量的生命周期和程序运行周期一样</li>
<li>不同文件的全局变量不可重名</li>
</ul>
</blockquote>
<h5 id="8-1-4-静态（static）全局变量"><a href="#8-1-4-静态（static）全局变量" class="headerlink" title="8.1.4 静态（static）全局变量"></a>8.1.4 静态（static）全局变量</h5><blockquote>
<ul>
<li><p>在函数外定义,作用范围被限制在所定义的文件中</p>
</li>
<li><p>不同文件静态全局变量可以重名,但作用域不冲突</p>
</li>
<li><p>static全局变量的生命周期和程序运行周期一样，同时staitc全局变量的值只初始化一次</p>
</li>
</ul>
</blockquote>
<h5 id="8-1-5-extern全局变量声明"><a href="#8-1-5-extern全局变量声明" class="headerlink" title="8.1.5 extern全局变量声明"></a>8.1.5 extern全局变量声明</h5><blockquote>
<p><code>extern int a;</code></p>
<p>声明一个变量，这个全局变量在别的文件中已经定义了，这里只是声明，而不是定义。</p>
</blockquote>
<h5 id="8-1-6-全局函数和静态函数"><a href="#8-1-6-全局函数和静态函数" class="headerlink" title="8.1.6 全局函数和静态函数"></a>8.1.6 全局函数和静态函数</h5><blockquote>
<ul>
<li>在C语言中函数默认都是全局的，使用关键字static可以将函数声明为静态，函数定义为static就意味着这个函数只能在定义这个函数的文件中使用，在其他文件中不能调用，即使在其他文件中声明这个函数都没用。</li>
<li>对于不同文件中的staitc函数名字可以相同。</li>
</ul>
<p><img src="/road2dasheng/img/07/clip_image002-16795970757121.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-05_011701"></p>
<p>注意：</p>
<ul>
<li>允许在不同的函数中使用相同的变量名，它们代表不同的对象，分配不同的单元，互不干扰。</li>
<li>同一源文件中,允许全局变量和局部变量同名，在局部变量的作用域内，全局变量不起作用。</li>
<li>所有的函数默认都是全局的，意味着所有的函数都不能重名，但如果是staitc函数，那么作用域是文件级的，所以不同的文件static函数名是可以相同的。</li>
</ul>
</blockquote>
<h5 id="8-1-7-总结"><a href="#8-1-7-总结" class="headerlink" title="8.1.7 总结"></a>8.1.7 总结</h5><p><img src="/road2dasheng/img/07/image-20230324024839525.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230324024839525"></p>
<h4 id="8-2-内存布局"><a href="#8-2-内存布局" class="headerlink" title="8.2 内存布局"></a>8.2 内存布局</h4><h5 id="8-2-1-内存分区"><a href="#8-2-1-内存分区" class="headerlink" title="8.2.1 内存分区"></a>8.2.1 内存分区</h5><blockquote>
<p>C代码经过预处理、编译、汇编、链接4步后生成一个可执行程序。</p>
<p>在 Windows 下，程序是一个普通的可执行文件，以下列出一个二进制可执行文件的基本情况：</p>
<p><img src="/road2dasheng/img/07/clip_image002-16795974127373.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="20150418160103391"></p>
</blockquote>
<blockquote>
<ul>
<li>代码区</li>
</ul>
<p>存放 CPU 执行的机器指令。通常代码区是可共享的（即另外的执行程序可以调用它），使其可共享的目的是对于频繁被执行的程序，只需要在内存中有一份代码即可。&#x3D;&#x3D;代码区通常是只读的&#x3D;&#x3D;，使其只读的原因是防止程序意外地修改了它的指令。另外，代码区还规划了局部变量的相关信息。</p>
<ul>
<li>全局初始化数据区&#x2F;静态数据区（data段）</li>
</ul>
<p>该区包含了在程序中明确被初始化的全局变量、已经初始化的静态变量（包括全局静态变量和局部静态变量）和常量数据（如字符串常量）。</p>
<ul>
<li>未初始化数据区（又叫 bss 区）</li>
</ul>
<p>存入的是全局未初始化变量和未初始化静态变量。未初始化数据区的数据在程序开始执行之前被内核初始化为 0 或者空（NULL）。</p>
<p>程序在加载到内存前，&#x3D;&#x3D;代码区和全局区(data和bss)的大小就是固定的&#x3D;&#x3D;，程序运行期间不能改变。然后，运行可执行程序，系统把程序加载到内存，除了根据可执行程序的信息分出代码区（text）、数据区（data）和未初始化数据区（bss）之外，还额外增加了栈区、堆区。</p>
</blockquote>
<p><img src="/road2dasheng/img/07/clip_image002-16795978373245.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<ul>
<li>代码区（text segment）</li>
</ul>
<p>加载的是可执行文件代码段，所有的可执行代码都加载到代码区，这块内存是不可以在运行期间修改的。</p>
<ul>
<li>未初始化数据区（BSS）</li>
</ul>
<p>加载的是可执行文件BSS段，位置可以分开亦可以紧靠数据段，存储于数据段的数据（全局未初始化，静态未初始化数据）的生存周期为整个程序运行过程。</p>
<ul>
<li>全局初始化数据区&#x2F;静态数据区（data segment）</li>
</ul>
<p>加载的是可执行文件数据段，存储于数据段（全局初始化，静态初始化数据，文字常量(只读)）的数据的生存周期为整个程序运行过程。</p>
<ul>
<li>栈区（stack）</li>
</ul>
<p>栈是一种先进后出的内存结构，由编译器自动分配释放，存放函数的参数值、返回值、局部变量等。在程序运行过程中实时加载和释放，因此，局部变量的生存周期为申请到释放该段栈空间。</p>
<ul>
<li>堆区（heap）</li>
</ul>
<p>堆是一个大容器，它的容量要远远大于栈，但没有栈那样先进后出的顺序。用于动态内存分配。堆在内存中位于BSS区和栈区之间。一般由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收。</p>
</blockquote>
<h5 id="8-2-2-存储类型总结"><a href="#8-2-2-存储类型总结" class="headerlink" title="8.2.2 存储类型总结"></a>8.2.2 存储类型总结</h5><p><img src="/road2dasheng/img/07/image-20230324030111573.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230324030111573"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">int</span> e;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span> f;<br><span class="hljs-type">int</span> g = <span class="hljs-number">10</span>;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span> h = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a;<br>	<span class="hljs-type">int</span> b = <span class="hljs-number">10</span>;<br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> c;<br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> d = <span class="hljs-number">10</span>;<br>	<span class="hljs-type">char</span> *i = <span class="hljs-string">&quot;test&quot;</span>;<br>	<span class="hljs-type">char</span> *k = <span class="hljs-literal">NULL</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;a\t %p\t //局部未初始化变量\n&quot;</span>, &amp;a);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;b\t %p\t //局部初始化变量\n&quot;</span>, &amp;b);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;c\t %p\t //静态局部未初始化变量\n&quot;</span>, &amp;c);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;d\t %p\t //静态局部初始化变量\n&quot;</span>, &amp;d);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;e\t %p\t //全局未初始化变量\n&quot;</span>, &amp;e);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;f\t %p\t //全局静态未初始化变量\n&quot;</span>, &amp;f);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;g\t %p\t //全局初始化变量\n&quot;</span>, &amp;g);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;h\t %p\t //全局静态初始化变量\n&quot;</span>, &amp;h);<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;i\t %p\t //只读数据(文字常量区)\n&quot;</span>, i);<br><br>	k = (<span class="hljs-type">char</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">10</span>);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;k\t %p\t //动态分配的内存\n&quot;</span>, k);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="8-2-3-内存操作函数"><a href="#8-2-3-内存操作函数" class="headerlink" title="8.2.3 内存操作函数"></a>8.2.3 内存操作函数</h5><blockquote>
<p>(1)  memset()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">void</span> *<span class="hljs-title function_">memset</span><span class="hljs-params">(<span class="hljs-type">void</span> *s, <span class="hljs-type">int</span> c, <span class="hljs-type">size_t</span> n)</span>;<br>功能：将s的内存区域的前n个字节以参数c填入<br>参数：<br>	s：需要操作内存s的首地址<br>	c：填充的字符，c虽然参数为<span class="hljs-type">int</span>，但必须是<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> , 范围为<span class="hljs-number">0</span>~<span class="hljs-number">255</span><br>	n：指定需要设置的大小<br>返回值：s的首地址<br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>];<br><br><span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(a));<br><span class="hljs-built_in">memset</span>(a, <span class="hljs-number">97</span>, <span class="hljs-keyword">sizeof</span>(a));<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, a[i]);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) memcpy()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">void</span> *<span class="hljs-title function_">memcpy</span><span class="hljs-params">(<span class="hljs-type">void</span> *dest, <span class="hljs-type">const</span> <span class="hljs-type">void</span> *src, <span class="hljs-type">size_t</span> n)</span>;<br>功能：拷贝src所指的内存内容的前n个字节到dest所值的内存地址上。<br>参数：<br>	dest：目的内存首地址<br>	src：源内存首地址，注意：dest和src所指的内存空间不可重叠，可能会导致程序报错<br>	n：需要拷贝的字节数<br>返回值：dest的首地址<br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span> &#125;;<br><span class="hljs-type">int</span> b[<span class="hljs-number">10</span>];<br><br><span class="hljs-built_in">memcpy</span>(b, a, <span class="hljs-keyword">sizeof</span>(a));<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d, &quot;</span>, b[i]);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><span class="hljs-comment">//memcpy(&amp;a[3], a, 5 * sizeof(int)); //err, 内存重叠</span><br></code></pre></td></tr></table></figure>
</blockquote>
<p>(3) memmove()</p>
<blockquote>
<p>memmove()功能用法和memcpy()一样，区别在于：dest和src所指的内存空间重叠时，memmove()仍然能处理，不过执行效率比memcpy()低些。</p>
</blockquote>
<p>(4) memcmp()</p>
<blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">memcmp</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">void</span> *s1, <span class="hljs-type">const</span> <span class="hljs-type">void</span> *s2, <span class="hljs-type">size_t</span> n)</span>;<br>功能：比较s1和s2所指向内存区域的前n个字节<br>参数：<br>	s1：内存首地址<span class="hljs-number">1</span><br>	s2：内存首地址<span class="hljs-number">2</span><br>	n：需比较的前n个字节<br>返回值：<br>	相等：=<span class="hljs-number">0</span><br>	大于：&gt;<span class="hljs-number">0</span><br>	小于：&lt;<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span> &#125;;<br><span class="hljs-type">int</span> b[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span> &#125;;<br><br><span class="hljs-type">int</span> flag = <span class="hljs-built_in">memcmp</span>(a, b, <span class="hljs-keyword">sizeof</span>(a));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;flag = %d\n&quot;</span>, flag);<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="8-2-4-堆区内存分配和释放"><a href="#8-2-4-堆区内存分配和释放" class="headerlink" title="8.2.4 堆区内存分配和释放"></a>8.2.4 堆区内存分配和释放</h5><blockquote>
<p>(1) malloc()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-type">void</span> *<span class="hljs-title function_">malloc</span><span class="hljs-params">(<span class="hljs-type">size_t</span> size)</span>;<br>功能：在内存的动态存储区(堆区)中分配一块长度为size字节的连续区域，用来存放类型说明符指定的类型。分配的内存空间内容不确定，一般使用<span class="hljs-built_in">memset</span>初始化。<br>参数：<br>	size：需要分配内存大小(单位：字节)<br>返回值：<br>成功：分配空间的起始地址<br>失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> count, *<span class="hljs-built_in">array</span>, n;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入要申请数组的个数:\n&quot;</span>);<br>	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>	<span class="hljs-built_in">array</span> = (<span class="hljs-type">int</span> *)<span class="hljs-built_in">malloc</span>(n * <span class="hljs-keyword">sizeof</span> (<span class="hljs-type">int</span>));<br>	<span class="hljs-keyword">if</span> (<span class="hljs-built_in">array</span> == <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;申请空间失败!\n&quot;</span>);<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>	&#125;<br>	<span class="hljs-comment">//将申请到空间清0</span><br>	<span class="hljs-built_in">memset</span>(<span class="hljs-built_in">array</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>)*n);<br><br>	<span class="hljs-keyword">for</span> (count = <span class="hljs-number">0</span>; count &lt; n; count++) <span class="hljs-comment">/*给数组赋值*/</span><br>		<span class="hljs-built_in">array</span>[count] = count;<br><br>	<span class="hljs-keyword">for</span> (count = <span class="hljs-number">0</span>; count &lt; n; count++) <span class="hljs-comment">/*打印数组元素*/</span><br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%2d&quot;</span>, <span class="hljs-built_in">array</span>[count]);<br><br>	<span class="hljs-built_in">free</span>(<span class="hljs-built_in">array</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) free()</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">free</span><span class="hljs-params">(<span class="hljs-type">void</span> *ptr)</span>;<br>功能：释放ptr所指向的一块内存空间，ptr是一个任意类型的指针变量，指向被释放区域的首地址。对同一内存空间多次释放会出错。<br>参数：<br>ptr：需要释放空间的首地址，被释放区应是由<span class="hljs-built_in">malloc</span>函数所分配的区域。<br>返回值：无<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="8-3-内存分区代码分析"><a href="#8-3-内存分区代码分析" class="headerlink" title="8.3 内存分区代码分析"></a>8.3 内存分区代码分析</h4><blockquote>
<p>(1) 返回栈区地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> *<span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-keyword">return</span> &amp;a;<span class="hljs-comment">//函数调用完毕，a释放</span><br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br>	<span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br>	p = fun();<br>	*p = <span class="hljs-number">100</span>; <span class="hljs-comment">//操作野指针指向的内存,err</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 返回data区地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> *<span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>	<span class="hljs-keyword">return</span> &amp;a; <span class="hljs-comment">//函数调用完毕，a不释放</span><br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br>	<span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br>	p = fun();<br>	*p = <span class="hljs-number">100</span>; <span class="hljs-comment">//ok</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*p = %d\n&quot;</span>, *p);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 值传递1</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun</span><span class="hljs-params">(<span class="hljs-type">int</span> *tmp)</span><br>&#123;<br>	tmp = (<span class="hljs-type">int</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br>	*tmp = <span class="hljs-number">100</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br>	<span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br>	fun(p); <span class="hljs-comment">//值传递，形参修改不会影响实参</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*p = %d\n&quot;</span>, *p);<span class="hljs-comment">//err，操作空指针指向的内存</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(4) 值传递2</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun</span><span class="hljs-params">(<span class="hljs-type">int</span> *tmp)</span><br>&#123;<br>	*tmp = <span class="hljs-number">100</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br>	<span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br>	p = (<span class="hljs-type">int</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br><br>	fun(p); <span class="hljs-comment">//值传递</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*p = %d\n&quot;</span>, *p); <span class="hljs-comment">//ok，*p为100</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(5) 返回堆区地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">int</span> *<span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-type">int</span> *tmp = <span class="hljs-literal">NULL</span>;<br>	tmp = (<span class="hljs-type">int</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br>	*tmp = <span class="hljs-number">100</span>;<br>	<span class="hljs-keyword">return</span> tmp;<span class="hljs-comment">//返回堆区地址，函数调用完毕，不释放</span><br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br>	<span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br>	p = fun();<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*p = %d\n&quot;</span>, *p);<span class="hljs-comment">//ok</span><br><br>	<span class="hljs-comment">//堆区空间，使用完毕，手动释放</span><br>	<span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-built_in">free</span>(p);<br>		p = <span class="hljs-literal">NULL</span>;<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<hr>
<h3 id="九、复合类型（自定义类型）"><a href="#九、复合类型（自定义类型）" class="headerlink" title="九、复合类型（自定义类型）"></a>九、复合类型（自定义类型）</h3><h4 id="9-1-结构体"><a href="#9-1-结构体" class="headerlink" title="9.1 结构体"></a>9.1 结构体</h4><h5 id="9-1-1-概述"><a href="#9-1-1-概述" class="headerlink" title="9.1.1 概述"></a>9.1.1 概述</h5><blockquote>
<p>数组：描述一组具有相同类型数据的有序集合，用于处理大量相同类型的数据运算。</p>
<p>有时我们需要将不同类型的数据组合成一个有机的整体，如：一个学生有学号&#x2F;姓名&#x2F;性别&#x2F;年龄&#x2F;地址等属性。显然单独定义以上变量比较繁琐，数据不便于管理。</p>
<p>Ｃ语言中给出了另一种构造数据类型——结构体。</p>
<p><img src="/road2dasheng/img/07/clip_image002-16795989959877.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-05_152127"></p>
</blockquote>
<h5 id="9-1-2-结构体变量的定义和初始化"><a href="#9-1-2-结构体变量的定义和初始化" class="headerlink" title="9.1.2 结构体变量的定义和初始化"></a>9.1.2 结构体变量的定义和初始化</h5><blockquote>
<p>定义结构体变量的方式：</p>
<ul>
<li><p>先声明结构体类型再定义变量名</p>
</li>
<li><p>在声明类型的同时定义变量</p>
</li>
<li><p>直接定义结构体类型变量（无类型名）</p>
</li>
</ul>
<p> <img src="/road2dasheng/img/07/clip_image002-16795990699969.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-05_153150"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-comment">//先定义类型，再定义变量（常用）</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s1</span> =</span> &#123; <span class="hljs-string">&quot;mike&quot;</span>, <span class="hljs-number">18</span> &#125;;<br><br><br><span class="hljs-comment">//定义类型同时定义变量</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu2</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;s2 = &#123; <span class="hljs-string">&quot;lily&quot;</span>, <span class="hljs-number">22</span> &#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;s3 = &#123; <span class="hljs-string">&quot;yuri&quot;</span>, <span class="hljs-number">25</span> &#125;;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="9-1-3-结构体成员的使用"><a href="#9-1-3-结构体成员的使用" class="headerlink" title="9.1.3 结构体成员的使用"></a>9.1.3 结构体成员的使用</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s1</span>;</span><br><br>	<span class="hljs-comment">//如果是普通变量，通过点运算符操作结构体成员</span><br>	<span class="hljs-built_in">strcpy</span>(s1.name, <span class="hljs-string">&quot;abc&quot;</span>);<br>	s1.age = <span class="hljs-number">18</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s1.name = %s, s1.age = %d\n&quot;</span>, s1.name, s1.age);<br><br>	<span class="hljs-comment">//如果是指针变量，通过-&gt;操作结构体成员</span><br>	<span class="hljs-built_in">strcpy</span>((&amp;s1)-&gt;name, <span class="hljs-string">&quot;test&quot;</span>);<br>	(&amp;s1)-&gt;age = <span class="hljs-number">22</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;(&amp;s1)-&gt;name = %s, (&amp;s1)-&gt;age = %d\n&quot;</span>, (&amp;s1)-&gt;name, (&amp;s1)-&gt;age);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="9-1-4-结构体数组"><a href="#9-1-4-结构体数组" class="headerlink" title="9.1.4 结构体数组"></a>9.1.4 结构体数组</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//统计学生成绩</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">int</span> num;<br>	<span class="hljs-type">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-type">char</span> sex;<br>	<span class="hljs-type">float</span> score;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//定义一个含有5个元素的结构体数组并将其初始化</span><br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">boy</span>[5] =</span> &#123;<br>		&#123; <span class="hljs-number">101</span>, <span class="hljs-string">&quot;Li ping&quot;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">45</span> &#125;,			<br>		&#123; <span class="hljs-number">102</span>, <span class="hljs-string">&quot;Zhang ping&quot;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">62.5</span> &#125;,<br>		&#123; <span class="hljs-number">103</span>, <span class="hljs-string">&quot;He fang&quot;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-number">92.5</span> &#125;,<br>		&#123; <span class="hljs-number">104</span>, <span class="hljs-string">&quot;Cheng ling&quot;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-number">87</span> &#125;,<br>		&#123; <span class="hljs-number">105</span>, <span class="hljs-string">&quot;Wang ming&quot;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">58</span> &#125;&#125;;<br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">float</span> ave, s = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>	&#123;<br>		s += boy[i].score;	<span class="hljs-comment">//计算总分</span><br>		<span class="hljs-keyword">if</span> (boy[i].score &lt; <span class="hljs-number">60</span>)<br>		&#123;<br>			c += <span class="hljs-number">1</span>;		<span class="hljs-comment">//统计不及格人的分数</span><br>		&#125;<br>	&#125;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s=%f\n&quot;</span>, s);<span class="hljs-comment">//打印总分数</span><br>	ave = s / <span class="hljs-number">5</span>;					<span class="hljs-comment">//计算平均分数</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;average=%f\ncount=%d\n\n&quot;</span>, ave, c); <span class="hljs-comment">//打印平均分与不及格人数</span><br><br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; name=%s,  score=%f\n&quot;</span>, boy[i].name, boy[i].score);<br>           <span class="hljs-comment">// printf(&quot; name=%s,  score=%f\n&quot;, (boy+i)-&gt;name, (boy+i)-&gt;score);</span><br><br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="9-1-5-结构体套结构体"><a href="#9-1-5-结构体套结构体" class="headerlink" title="9.1.5 结构体套结构体"></a>9.1.5 结构体套结构体</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">person</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">20</span>];<br>	<span class="hljs-type">char</span> sex;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">int</span> id;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">person</span> <span class="hljs-title">info</span>;</span><br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s</span>[2] =</span> &#123; <span class="hljs-number">1</span>, <span class="hljs-string">&quot;lily&quot;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&quot;yuri&quot;</span>, <span class="hljs-string">&#x27;M&#x27;</span> &#125;;<br><br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;id = %d\tinfo.name=%s\tinfo.sex=%c\n&quot;</span>, s[i].id, s[i].info.name, s[i].info.sex);<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="9-1-6-结构体赋值"><a href="#9-1-6-结构体赋值" class="headerlink" title="9.1.6 结构体赋值"></a>9.1.6 结构体赋值</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s1</span>;</span><br><br>	<span class="hljs-comment">//如果是普通变量，通过点运算符操作结构体成员</span><br>	<span class="hljs-built_in">strcpy</span>(s1.name, <span class="hljs-string">&quot;abc&quot;</span>);<br>	s1.age = <span class="hljs-number">18</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s1.name = %s, s1.age = %d\n&quot;</span>, s1.name, s1.age);<br><br>	<span class="hljs-comment">//相同类型的两个结构体变量，可以相互赋值</span><br>	<span class="hljs-comment">//把s1成员变量的值拷贝给s2成员变量的内存</span><br>	<span class="hljs-comment">//s1和s2只是成员变量的值一样而已，它们还是没有关系的两个变量</span><br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s2</span> =</span> s1;<br><span class="hljs-comment">//memcpy(&amp;s2, &amp;s1, sizeof(s1));</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s2.name = %s, s2.age = %d\n&quot;</span>, s2.name, s2.age);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="9-1-7-结构体和指针"><a href="#9-1-7-结构体和指针" class="headerlink" title="9.1.7 结构体和指针"></a>9.1.7 结构体和指针</h5><blockquote>
<p>(1) 指向普通结构体变量的指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s1</span> =</span> &#123; <span class="hljs-string">&quot;lily&quot;</span>, <span class="hljs-number">18</span> &#125;;<br><br>	<span class="hljs-comment">//如果是指针变量，通过-&gt;操作结构体成员</span><br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> *<span class="hljs-title">p</span> =</span> &amp;s1;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;p-&gt;name = %s, p-&gt;age=%d\n&quot;</span>, p-&gt;name, p-&gt;age);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;(*p).name = %s, (*p).age=%d\n&quot;</span>,  (*p).name,  (*p).age);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 堆区结构体变量</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> *<span class="hljs-title">p</span> =</span> <span class="hljs-literal">NULL</span>;<br><br>	p = (<span class="hljs-keyword">struct</span> stu *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span>  stu));<br><br>	<span class="hljs-comment">//如果是指针变量，通过-&gt;操作结构体成员</span><br>	<span class="hljs-built_in">strcpy</span>(p-&gt;name, <span class="hljs-string">&quot;test&quot;</span>);<br>	p-&gt;age = <span class="hljs-number">22</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;p-&gt;name = %s, p-&gt;age=%d\n&quot;</span>, p-&gt;name, p-&gt;age);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;(*p).name = %s, (*p).age=%d\n&quot;</span>, (*p).name,  (*p).age);<br><br>	<span class="hljs-built_in">free</span>(p);<br>	p = <span class="hljs-literal">NULL</span>;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 结构体套一级指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> *name; <span class="hljs-comment">//一级指针</span><br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> *<span class="hljs-title">p</span> =</span> <span class="hljs-literal">NULL</span>;<br><br>	p = (<span class="hljs-keyword">struct</span> stu *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span>  stu));<br><br>	p-&gt;name = <span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">strlen</span>(<span class="hljs-string">&quot;test&quot;</span>) + <span class="hljs-number">1</span>);<br>	<span class="hljs-built_in">strcpy</span>(p-&gt;name, <span class="hljs-string">&quot;test&quot;</span>);<br>	p-&gt;age = <span class="hljs-number">22</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;p-&gt;name = %s, p-&gt;age=%d\n&quot;</span>, p-&gt;name, p-&gt;age);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;(*p).name = %s, (*p).age=%d\n&quot;</span>, (*p).name, (*p).age);<br><br>	<span class="hljs-keyword">if</span> (p-&gt;name != <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-built_in">free</span>(p-&gt;name);<br>		p-&gt;name = <span class="hljs-literal">NULL</span>;<br>	&#125;<br><br>	<span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-built_in">free</span>(p);<br>		p = <span class="hljs-literal">NULL</span>;<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="9-1-8-结构体做函数参数"><a href="#9-1-8-结构体做函数参数" class="headerlink" title="9.1.8 结构体做函数参数"></a>9.1.8 结构体做函数参数</h5><blockquote>
<p>(1) 结构体普通变量做函数参数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-comment">//函数参数为结构体普通变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">set_stu</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> stu tmp)</span><br>&#123;<br>	<span class="hljs-built_in">strcpy</span>(tmp.name, <span class="hljs-string">&quot;mike&quot;</span>);<br>	tmp.age = <span class="hljs-number">18</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;tmp.name = %s, tmp.age = %d\n&quot;</span>, tmp.name, tmp.age);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s</span> =</span> &#123; <span class="hljs-number">0</span> &#125;;<br>	set_stu(s); <span class="hljs-comment">//值传递</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s.name = %s, s.age = %d\n&quot;</span>, s.name, s.age);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 结构体指针变量做函数参数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c">include&lt;stdio.h&gt;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-comment">//函数参数为结构体指针变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">set_stu_pro</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> stu *tmp)</span><br>&#123;<br>	<span class="hljs-built_in">strcpy</span>(tmp-&gt;name, <span class="hljs-string">&quot;mike&quot;</span>);<br>	tmp-&gt;age = <span class="hljs-number">18</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s</span> =</span> &#123; <span class="hljs-number">0</span> &#125;;<br>	set_stu_pro(&amp;s); <span class="hljs-comment">//地址传递</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s.name = %s, s.age = %d\n&quot;</span>, s.name, s.age);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 结构体数组名做函数参数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-comment">//void set_stu_pro(struct stu tmp[100], int n)</span><br><span class="hljs-comment">//void set_stu_pro(struct stu tmp[], int n)</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">set_stu_pro</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> stu *tmp, <span class="hljs-type">int</span> n)</span><br>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">sprintf</span>(tmp-&gt;name, <span class="hljs-string">&quot;name%d%d%d&quot;</span>, i, i, i);<br>		tmp-&gt;age = <span class="hljs-number">20</span> + i;<br>		tmp++;<br>	&#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span> <span class="hljs-title">s</span>[3] =</span> &#123; <span class="hljs-number">0</span> &#125;;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(s) / <span class="hljs-keyword">sizeof</span>(s[<span class="hljs-number">0</span>]);<br>	set_stu_pro(s, n); <span class="hljs-comment">//数组名传递</span><br><br>	<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s, %d\n&quot;</span>, s[i].name, s[i].age);<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(4) const修饰结构体指针形参变量</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//结构体类型的定义</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> age;<br>&#125;;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun1</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> stu * <span class="hljs-type">const</span> p)</span><br>&#123;<br>	<span class="hljs-comment">//p = NULL; //err</span><br>	p-&gt;age = <span class="hljs-number">10</span>; <span class="hljs-comment">//ok</span><br>&#125;<br><br><span class="hljs-comment">//void fun2(struct stu const*  p)</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun2</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> stu *  p)</span><br>&#123;<br>	p = <span class="hljs-literal">NULL</span>; <span class="hljs-comment">//ok</span><br>	<span class="hljs-comment">//p-&gt;age = 10; //err</span><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">fun3</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> stu * <span class="hljs-type">const</span> p)</span><br>&#123;<br>	<span class="hljs-comment">//p = NULL; //err</span><br>	<span class="hljs-comment">//p-&gt;age = 10; //err</span><br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="9-2-共用体（联合体）"><a href="#9-2-共用体（联合体）" class="headerlink" title="9.2 共用体（联合体）"></a>9.2 共用体（联合体）</h4><blockquote>
<ul>
<li><p>联合union是一个能在同一个存储空间存储不同类型数据的类型；</p>
</li>
<li><p>联合体所占的内存长度等于其最长成员的长度倍数，也有叫做共用体；</p>
</li>
<li><p>同一内存段可以用来存放几种不同类型的成员，但每一瞬时只有一种起作用；</p>
</li>
<li><p>共用体变量中起作用的成员是最后一次存放的成员，在存入一个新的成员后原有的成员的值会被覆盖；</p>
</li>
<li><p>共用体变量的地址和它的各成员的地址都是同一地址。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//共用体也叫联合体 </span><br><span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Test</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> a;<br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> b;<br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">short</span> c;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-comment">//定义共用体变量</span><br>	<span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">Test</span> <span class="hljs-title">tmp</span>;</span><br><br>	<span class="hljs-comment">//1、所有成员的首地址是一样的</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p, %p, %p\n&quot;</span>, &amp;(tmp.a), &amp;(tmp.b), &amp;(tmp.c));<br><br>	<span class="hljs-comment">//2、共用体大小为最大成员类型的大小</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lu\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">union</span> Test));<br><br>	<span class="hljs-comment">//3、一个成员赋值，会影响另外的成员</span><br>	<span class="hljs-comment">//左边是高位，右边是低位</span><br>	<span class="hljs-comment">//低位放低地址，高位放高地址</span><br>	tmp.b = <span class="hljs-number">0x44332211</span>;<br><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%x\n&quot;</span>, tmp.a); <span class="hljs-comment">//11</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%x\n&quot;</span>, tmp.c); <span class="hljs-comment">//2211</span><br><br>	tmp.a = <span class="hljs-number">0x00</span>;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;short: %x\n&quot;</span>, tmp.c); <span class="hljs-comment">//2200</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;int: %x\n&quot;</span>, tmp.b); <span class="hljs-comment">//44332200</span><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="9-3-枚举"><a href="#9-3-枚举" class="headerlink" title="9.3 枚举"></a>9.3 枚举</h4><blockquote>
<p>枚举：将变量的值一一列举出来，变量的值只限于列举出来的值的范围内。</p>
<p>枚举类型定义：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">enum</span>  枚举名</span><br><span class="hljs-class">&#123;</span><br>	枚举值表<br>&#125;;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>在枚举值表中应列出所有可用值，也称为枚举元素。</p>
</li>
<li><p>枚举值是常量，不能在程序中用赋值语句再对它赋值。</p>
</li>
<li><p>枚举元素本身由系统定义了一个表示序号的数值从0开始顺序定义为0，1，2 …</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">weekday</span></span><br><span class="hljs-class">&#123;</span><br>	sun = <span class="hljs-number">2</span>, mon, tue, wed, thu, fri, sat<br>&#125; ;<br><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">bool</span></span><br><span class="hljs-class">&#123;</span><br>	flase, <span class="hljs-literal">true</span><br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">weekday</span> <span class="hljs-title">a</span>, <span class="hljs-title">b</span>, <span class="hljs-title">c</span>;</span><br>	a = sun;<br>	b = mon;<br>	c = tue;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d,%d,%d\n&quot;</span>, a, b, c);<br><br>	<span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">bool</span> <span class="hljs-title">flag</span>;</span><br>	flag = <span class="hljs-literal">true</span>;<br><br>	<span class="hljs-keyword">if</span> (flag == <span class="hljs-number">1</span>)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;flag为真\n&quot;</span>);<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="9-4-typedef"><a href="#9-4-typedef" class="headerlink" title="9.4 typedef"></a>9.4 typedef</h4><blockquote>
<p>typedef为C语言的关键字，作用是为一种数据类型(基本类型或自定义数据类型)定义一个新名字，&#x3D;&#x3D;不能创建新类型。&#x3D;&#x3D;</p>
<ul>
<li><p>与#define不同，typedef仅限于数据类型，而不是能是表达式或具体的值</p>
</li>
<li><p>#define发生在预处理，typedef发生在编译阶段</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> INT;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">char</span> BYTE;<br><span class="hljs-keyword">typedef</span> BYTE T_BYTE;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> UBYTE;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">type</span></span><br><span class="hljs-class">&#123;</span><br>	UBYTE a;<br>	INT b;<br>	T_BYTE c;<br>&#125;TYPE, *PTYPE;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>	TYPE t;<br>	t.a = <span class="hljs-number">254</span>;<br>	t.b = <span class="hljs-number">10</span>;<br>	t.c = <span class="hljs-string">&#x27;c&#x27;</span>;<br><br>	PTYPE p = &amp;t;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%u, %d, %c\n&quot;</span>, p-&gt;a, p-&gt;b, p-&gt;c);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<hr>
<h3 id="十、文件操作"><a href="#十、文件操作" class="headerlink" title="十、文件操作"></a>十、文件操作</h3><h4 id="10-1-概述"><a href="#10-1-概述" class="headerlink" title="10.1 概述"></a>10.1 概述</h4><h5 id="10-1-1-磁盘文件和设备文件"><a href="#10-1-1-磁盘文件和设备文件" class="headerlink" title="10.1.1 磁盘文件和设备文件"></a>10.1.1 磁盘文件和设备文件</h5><blockquote>
<ul>
<li><p>磁盘文件</p>
<p>指一组相关数据的有序集合,通常存储在外部介质(如磁盘)上，使用时才调入内存。</p>
</li>
<li><p>设备文件</p>
<p>在操作系统中把每一个与主机相连的输入、输出设备看作是一个文件，把它们的输入、输出等同于对磁盘文件的读和写。</p>
</li>
</ul>
</blockquote>
<h5 id="10-1-2-磁盘文件的分类"><a href="#10-1-2-磁盘文件的分类" class="headerlink" title="10.1.2 磁盘文件的分类"></a>10.1.2 磁盘文件的分类</h5><blockquote>
<p>计算机的存储在物理上是二进制的，所以物理上所有的磁盘文件本质上都是一样的：以字节为单位进行顺序存储。</p>
<p><img src="/road2dasheng/img/07/clip_image002-167960074957211.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_150022"></p>
<p>从用户或者操作系统使用的角度（逻辑上）把文件分为：</p>
<ul>
<li><p>文本文件：基于字符编码的文件 </p>
</li>
<li><p>二进制文件：基于值编码的文件</p>
</li>
</ul>
</blockquote>
<h5 id="10-1-3-文本文件和二进制文件"><a href="#10-1-3-文本文件和二进制文件" class="headerlink" title="10.1.3 文本文件和二进制文件"></a>10.1.3 文本文件和二进制文件</h5><blockquote>
<p>(1) 文本文件</p>
<ul>
<li><p>基于字符编码，常见编码有ASCII、UNICODE等</p>
</li>
<li><p>一般可以使用文本编辑器直接打开</p>
</li>
<li><p>数5678的以ASCII存储形式(ASCII码)为：00110101 00110110 00110111 00111000</p>
</li>
</ul>
</blockquote>
<blockquote>
<p>(2) 二进制文件</p>
<ul>
<li><p>基于值编码,自己根据具体应用,指定某个值是什么意思</p>
</li>
<li><p>把内存中的数据按其在内存中的存储形式原样输出到磁盘上</p>
</li>
<li><p>数5678的存储形式(二进制码)为：</p>
<p>00010110 00101110</p>
</li>
</ul>
</blockquote>
<h4 id="10-2-文件的打开和关闭"><a href="#10-2-文件的打开和关闭" class="headerlink" title="10.2 文件的打开和关闭"></a>10.2 文件的打开和关闭</h4><h5 id="10-2-1-文件指针"><a href="#10-2-1-文件指针" class="headerlink" title="10.2.1 文件指针"></a>10.2.1 文件指针</h5><blockquote>
<p>在C语言中用一个指针变量指向一个文件，这个指针称为文件指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">short</span>           level;	<span class="hljs-comment">//缓冲区&quot;满&quot;或者&quot;空&quot;的程度 </span><br>	<span class="hljs-type">unsigned</span>        flags;	<span class="hljs-comment">//文件状态标志 </span><br>	<span class="hljs-type">char</span>            fd;		<span class="hljs-comment">//文件描述符</span><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>   hold;	<span class="hljs-comment">//如无缓冲区不读取字符</span><br>	<span class="hljs-type">short</span>           bsize;	<span class="hljs-comment">//缓冲区的大小</span><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>   *buffer;<span class="hljs-comment">//数据缓冲区的位置 </span><br>	<span class="hljs-type">unsigned</span>        ar;	 <span class="hljs-comment">//指针，当前的指向 </span><br>	<span class="hljs-type">unsigned</span>        istemp;	<span class="hljs-comment">//临时文件，指示器</span><br>	<span class="hljs-type">short</span>           token;	<span class="hljs-comment">//用于有效性的检查 </span><br>&#125;FILE;<br></code></pre></td></tr></table></figure>

<p>FILE是系统使用typedef定义出来的有关文件信息的一种结构体类型，结构中含有文件名、文件状态和文件当前位置等信息。</p>
<p>声明FILE结构体类型的信息包含在头文件“stdio.h”中，一般设置一个指向FILE类型变量的指针变量，然后通过它来引用这些FILE类型变量。通过文件指针就可对它所指的文件进行各种操作。</p>
<p><img src="/road2dasheng/img/07/clip_image002-167960120906113.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="图片1"></p>
<p>C语言中有三个特殊的文件指针由系统默认打开，用户无需定义即可直接使用:</p>
<ul>
<li>stdin： 标准输入，默认为当前终端（键盘），我们使用的scanf、getchar函数默认从此终端获得数据</li>
<li>stdout：标准输出，默认为当前终端（屏幕），我们使用的printf、puts函数默认输出信息到此终端</li>
<li>stderr：标准出错，默认为当前终端（屏幕），我们使用的perror函数默认输出信息到此终端</li>
</ul>
</blockquote>
<h5 id="10-2-2-文件的打开"><a href="#10-2-2-文件的打开" class="headerlink" title="10.2.2 文件的打开"></a>10.2.2 文件的打开</h5><blockquote>
<p>任何文件使用之前必须打开：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br>FILE * <span class="hljs-title function_">fopen</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * filename, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * mode)</span>;<br>功能：打开文件<br>参数：<br>	filename：需要打开的文件名，根据需要加上路径<br>	mode：打开文件的模式设置<br>返回值：<br>	成功：文件指针<br>	失败：<span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<p>第一个参数的几种形式:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c">FILE *fp_passwd = <span class="hljs-literal">NULL</span>;<br><br>	<span class="hljs-comment">//相对路径：</span><br>	<span class="hljs-comment">//打开当前目录passdw文件：源文件(源程序)所在目录</span><br>	FILE *fp_passwd = fopen(<span class="hljs-string">&quot;passwd.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>	<br>	<span class="hljs-comment">//打开当前目录(test)下passwd.txt文件</span><br>	fp_passwd = fopen(<span class="hljs-string">&quot;. / test / passwd.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>	<br>	<span class="hljs-comment">//打开当前目录上一级目录（相对当前目录）passwd.txt文件</span><br>	fp_passwd = fopen(<span class="hljs-string">&quot;.. / passwd.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>		<br>	<span class="hljs-comment">//绝对路径：</span><br>	<span class="hljs-comment">//打开C盘test目录下一个叫passwd.txt文件</span><br>	fp_passwd = fopen(<span class="hljs-string">&quot;c:/test/passwd.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>第二个参数的几种形式(打开文件的方式)：</p>
<p><img src="/road2dasheng/img/07/image-20230324035603692.png" srcset="/road2dasheng/img/loading.gif" lazyload alt="image-20230324035603692"></p>
<p>注意：</p>
<ul>
<li><p>b是二进制模式的意思，b只是在Windows有效，在Linux用r和rb的结果是一样的</p>
</li>
<li><p>Unix和Linux下所有的文本文件行都是\n结尾，而Windows所有的文本文件行都是\r\n结尾</p>
</li>
<li><p>在Windows平台下，以“文本”方式打开文件，不加b：</p>
</li>
<li><ul>
<li><ul>
<li>n 当读取文件的时候，系统会将所有的 “\r\n” 转换成 “\n”</li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li><ul>
<li>n 当写入文件的时候，系统会将 “\n” 转换成 “\r\n” 写入</li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li><ul>
<li>-n 以”二进制”方式打开文件，则读\n写都不会进行这样的转换</li>
</ul>
</li>
</ul>
</li>
<li><p>在Unix&#x2F;Linux平台下，“文本”与“二进制”模式没有区别，”\r\n” 作为两个字符原样输入输出</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>	FILE *fp = <span class="hljs-literal">NULL</span>;<br><br>	<span class="hljs-comment">// &quot;\\&quot;这样的路径形式，只能在windows使用</span><br>	<span class="hljs-comment">// &quot;/&quot;这样的路径形式，windows和linux平台下都可用，建议使用这种</span><br>	<span class="hljs-comment">// 路径可以是相对路径，也可是绝对路径</span><br>	fp = fopen(<span class="hljs-string">&quot;../test&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>);<br>	<span class="hljs-comment">//fp = fopen(&quot;..\\test&quot;, &quot;w&quot;);</span><br><br>	<span class="hljs-keyword">if</span> (fp == <span class="hljs-literal">NULL</span>) <span class="hljs-comment">//返回空，说明打开失败</span><br>	&#123;<br>		<span class="hljs-comment">//perror()是标准出错打印函数，能打印调用库函数出错原因</span><br>		perror(<span class="hljs-string">&quot;open&quot;</span>);<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h5 id="10-2-3-文件的关闭"><a href="#10-2-3-文件的关闭" class="headerlink" title="10.2.3 文件的关闭"></a>10.2.3 文件的关闭</h5><blockquote>
<p>任何文件在使用后应该关闭：</p>
<ul>
<li><p>打开的文件会占用内存资源，如果总是打开不关闭，会消耗很多内存</p>
</li>
<li><p>一个进程同时打开的文件数是有限制的，超过最大同时打开文件数，再次调用fopen打开文件会失败</p>
</li>
<li><p>如果没有明确的调用fclose关闭打开的文件，那么程序在退出的时候，操作系统会统一关闭。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fclose</span><span class="hljs-params">(FILE * stream)</span>;<br>功能：关闭先前fopen()打开的文件。此动作让缓冲区的数据写入文件中，并释放系统所提供的文件资源。<br>参数：<br>	stream：文件指针<br>返回值：<br>	成功：<span class="hljs-number">0</span><br>	失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">FILE * fp = <span class="hljs-literal">NULL</span>;<br>fp = fopen(<span class="hljs-string">&quot;abc.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>fclose(fp);<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="10-3-文件的顺序读写"><a href="#10-3-文件的顺序读写" class="headerlink" title="10.3 文件的顺序读写"></a>10.3 文件的顺序读写</h4><h5 id="10-3-1-按照字符读写文件fgetc、fputc"><a href="#10-3-1-按照字符读写文件fgetc、fputc" class="headerlink" title="10.3.1 按照字符读写文件fgetc、fputc"></a>10.3.1 按照字符读写文件fgetc、fputc</h5><blockquote>
<p>(1) 写文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fputc</span><span class="hljs-params">(<span class="hljs-type">int</span> ch, FILE * stream)</span>;<br>功能：将ch转换为<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>后写入stream指定的文件中<br>参数：<br>	ch：需要写入文件的字符<br>	stream：文件指针<br>返回值：<br>	成功：成功写入文件的字符<br>	失败：返回<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> buf[] = <span class="hljs-string">&quot;this is a test for fputc&quot;</span>;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> n = <span class="hljs-built_in">strlen</span>(buf);<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>	<span class="hljs-comment">//往文件fp写入字符buf[i]</span><br>	<span class="hljs-type">int</span> ch = fputc(buf[i], fp);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ch = %c\n&quot;</span>, ch);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 文件结尾</p>
<p>在C语言中，EOF表示文件结束符(end of file)。在while循环中以EOF作为文件结束标志，这种以EOF作为文件结束标志的文件，必须是文本文件。在文本文件中，数据都是以字符的ASCII代码值的形式存放。我们知道，ASCII代码值的范围是0~127，不可能出现-1，因此可以用EOF作为文件结束标志。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> EOF (-1)</span><br></code></pre></td></tr></table></figure>

<p>当把数据以二进制形式存放到文件中时，就会有-1值的出现，因此不能采用EOF作为二进制文件的结束标志。为解决这一个问题，ANSI C提供一个feof函数，用来判断文件是否结束。feof函数既可用以判断二进制文件又可用以判断文本文件。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">feof</span><span class="hljs-params">(FILE * stream)</span>;<br>功能：检测是否读取到了文件结尾。判断的是最后一次“读操作的内容”，不是当前位置内容(上一个内容)。<br>参数：<br>	stream：文件指针<br>返回值：<br>	非<span class="hljs-number">0</span>值：已经到文件结尾<br>	<span class="hljs-number">0</span>：没有到文件结尾<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 读文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fgetc</span><span class="hljs-params">(FILE * stream)</span>;<br>功能：从stream指定的文件中读取一个字符<br>参数：<br>	stream：文件指针<br>返回值：<br>	成功：返回读取到的字符<br>	失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> ch;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> 0</span><br><span class="hljs-keyword">while</span> ((ch = fgetc(fp)) != EOF)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, ch);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br><span class="hljs-keyword">while</span> (!feof(fp)) <span class="hljs-comment">//文件没有结束，则执行循环</span><br>&#123;<br>	ch = fgetc(fp);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, ch);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(4) 强化训练：实现vi、cat命令</p>
<p><img src="/road2dasheng/img/07/clip_image002-167960183161415.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_165816"><img src="/road2dasheng/img/07/clip_image002-167960183819617.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_170326"></p>
</blockquote>
<h5 id="10-3-2-按照行读写文件fgets、fputs"><a href="#10-3-2-按照行读写文件fgets、fputs" class="headerlink" title="10.3.2 按照行读写文件fgets、fputs"></a>10.3.2 按照行读写文件fgets、fputs</h5><blockquote>
<p>(1) 写文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fputs</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * str, FILE * stream)</span>;<br>功能：将str所指定的字符串写入到stream指定的文件中，字符串结束符 <span class="hljs-string">&#x27;\0&#x27;</span>  不写入文件。 <br>参数：<br>	str：字符串<br>	stream：文件指针<br>返回值：<span class="hljs-number">6</span><br>	成功：<span class="hljs-number">0</span><br>	失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> *buf[] = &#123; <span class="hljs-string">&quot;123456\n&quot;</span>, <span class="hljs-string">&quot;bbbbbbbbbb\n&quot;</span>, <span class="hljs-string">&quot;ccccccccccc\n&quot;</span> &#125;;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> n = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>	<span class="hljs-type">int</span> len = <span class="hljs-built_in">fputs</span>(buf[i], fp);<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;len = %d\n&quot;</span>, len);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 读文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">char</span> * <span class="hljs-title function_">fgets</span><span class="hljs-params">(<span class="hljs-type">char</span> * str, <span class="hljs-type">int</span> size, FILE * stream)</span>;<br>功能：从stream指定的文件内读入字符，保存到str所指定的内存空间，直到出现换行字符、读到文件结尾或是已读了size - <span class="hljs-number">1</span>个字符为止，最后会自动加上字符 <span class="hljs-string">&#x27;\0&#x27;</span> 作为字符串结束。<br>参数：<br>	str：字符串<br>	size：指定最大读取字符串的长度（size - <span class="hljs-number">1</span>）<br>	stream：文件指针<br>返回值：<br>	成功：成功读取的字符串<br>	读到文件尾或出错： <span class="hljs-literal">NULL</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> buf[<span class="hljs-number">100</span>] = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">while</span> (!feof(fp)) <span class="hljs-comment">//文件没有结束</span><br>&#123;<br>	<span class="hljs-built_in">memset</span>(buf, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(buf));<br>	<span class="hljs-type">char</span> *p = fgets(buf, <span class="hljs-keyword">sizeof</span>(buf), fp);<br>	<span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;buf = %s&quot;</span>, buf);<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 强化训练：文件版四则运算</p>
<p>有个文件大小不确定，每行内容都是一个四则运算表达式，还没有算出结果，写一个程序，自动算出其结果后修改文件</p>
<p><img src="/road2dasheng/img/07/clip_image002-167960198839919.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_172151"></p>
</blockquote>
<h5 id="10-3-3-按照格式化文件fprintf、fscanf"><a href="#10-3-3-按照格式化文件fprintf、fscanf" class="headerlink" title="10.3.3 按照格式化文件fprintf、fscanf"></a>10.3.3 按照格式化文件fprintf、fscanf</h5><blockquote>
<p>(1) 写文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fprintf</span><span class="hljs-params">(FILE * stream, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * format, ...)</span>;<br>功能：根据参数format字符串来转换并格式化数据，然后将结果输出到stream指定的文件中，指定出现字符串结束符 <span class="hljs-string">&#x27;\0&#x27;</span>  为止。<br>参数：<br>	stream：已经打开的文件<br>	format：字符串格式，用法和<span class="hljs-built_in">printf</span>()一样<br>返回值：<br>	成功：实际写入文件的字符个数<br>	失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-built_in">fprintf</span>(fp, <span class="hljs-string">&quot;%d %d %d\n&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 读文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fscanf</span><span class="hljs-params">(FILE * stream, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * format, ...)</span>;<br>功能：从stream指定的文件读取字符串，并根据参数format字符串来转换并格式化数据。<br>参数：<br>	stream：已经打开的文件<br>	format：字符串格式，用法和<span class="hljs-built_in">scanf</span>()一样<br>返回值：<br>	成功：参数数目，成功转换的值的个数<br>	失败： - <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">fscanf</span>(fp, <span class="hljs-string">&quot;%d %d %d\n&quot;</span>, &amp;a, &amp;b, &amp;c);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d, b = %d, c = %d\n&quot;</span>, a, b, c);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 强化训练：文件版排序</p>
<p><img src="/road2dasheng/img/07/clip_image002-167960213196321.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_173443"></p>
</blockquote>
<h5 id="10-3-4-按照块读写文件fread、fwrite"><a href="#10-3-4-按照块读写文件fread、fwrite" class="headerlink" title="10.3.4 按照块读写文件fread、fwrite"></a>10.3.4 按照块读写文件fread、fwrite</h5><blockquote>
<p>(1) 写文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">size_t</span> <span class="hljs-title function_">fwrite</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">void</span> *ptr, <span class="hljs-type">size_t</span> size, <span class="hljs-type">size_t</span> nmemb, FILE *stream)</span>;<br>功能：以数据块的方式给文件写入内容<br>参数：<br>	ptr：准备写入文件数据的地址<br>	size： <span class="hljs-type">size_t</span> 为 <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>类型，此参数指定写入文件内容的块数据大小<br>	nmemb：写入文件的块数，写入文件数据总大小为：size * nmemb<br>	stream：已经打开的文件指针<br>返回值：<br>	成功：实际成功写入文件数据的块数目，此值和 nmemb 相等<br>	失败：<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> id;<br>&#125;Stu;<br><br>Stu s[<span class="hljs-number">3</span>];<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>&#123;<br>	<span class="hljs-built_in">sprintf</span>(s[i].name, <span class="hljs-string">&quot;stu%d%d%d&quot;</span>, i, i, i);<br>	s[i].id = i + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-type">int</span> ret = fwrite(s, <span class="hljs-keyword">sizeof</span>(Stu), <span class="hljs-number">3</span>, fp);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ret = %d\n&quot;</span>, ret);<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(2) 读文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">size_t</span> <span class="hljs-title function_">fread</span><span class="hljs-params">(<span class="hljs-type">void</span> *ptr, <span class="hljs-type">size_t</span> size, <span class="hljs-type">size_t</span> nmemb, FILE *stream)</span>;<br>功能：以数据块的方式从文件中读取内容<br>参数：<br>	ptr：存放读取出来数据的内存空间<br>	size： <span class="hljs-type">size_t</span> 为 <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>类型，此参数指定读取文件内容的块数据大小<br>	nmemb：读取文件的块数，读取文件数据总大小为：size * nmemb<br>	stream：已经打开的文件指针<br>返回值：<br>	成功：实际成功读取到内容的块数，如果此值比nmemb小，但大于<span class="hljs-number">0</span>，说明读到文件的结尾。<br>	失败：<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> id;<br>&#125;Stu;<br><br>Stu s[<span class="hljs-number">3</span>];<br><span class="hljs-type">int</span> ret = fread(s, <span class="hljs-keyword">sizeof</span>(Stu), <span class="hljs-number">3</span>, fp);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ret = %d\n&quot;</span>, ret);<br><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s = %s, %d\n&quot;</span>, s[i].name, s[i].id);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>(3) 强化训练：大文件拷贝</p>
<p><img src="/road2dasheng/img/07/clip_image002-167960222548023.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_174408"></p>
</blockquote>
<h4 id="10-4-文件的随机读写"><a href="#10-4-文件的随机读写" class="headerlink" title="10.4 文件的随机读写"></a>10.4 文件的随机读写</h4><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fseek</span><span class="hljs-params">(FILE *stream, <span class="hljs-type">long</span> offset, <span class="hljs-type">int</span> whence)</span>;<br>功能：移动文件流（文件光标）的读写位置。<br>参数：<br>	stream：已经打开的文件指针<br>	offset：根据whence来移动的位移数（偏移量），可以是正数，也可以负数，如果正数，则相对于whence往右移动，如果是负数，则相对于whence往左移动。如果向前移动的字节数超过了文件开头则出错返回，如果向后移动的字节数超过了文件末尾，再次写入时将增大文件尺寸。<br>	whence：其取值如下：<br>		SEEK_SET：从文件开头移动offset个字节<br>		SEEK_CUR：从当前位置移动offset个字节<br>		SEEK_END：从文件末尾移动offset个字节<br>返回值：<br>	成功：<span class="hljs-number">0</span><br>	失败：<span class="hljs-number">-1</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">long</span> <span class="hljs-title function_">ftell</span><span class="hljs-params">(FILE *stream)</span>;<br>功能：获取文件流（文件光标）的读写位置。<br>参数：<br>	stream：已经打开的文件指针<br>返回值：<br>	成功：当前文件流（文件光标）的读写位置<br>	失败：<span class="hljs-number">-1</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">rewind</span><span class="hljs-params">(FILE *stream)</span>;<br>功能：把文件流（文件光标）的读写位置移动到文件开头。<br>参数：<br>	stream：已经打开的文件指针<br>返回值：<br>	无返回值<br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br>	<span class="hljs-type">char</span> name[<span class="hljs-number">50</span>];<br>	<span class="hljs-type">int</span> id;<br>&#125;Stu;<br><br><span class="hljs-comment">//假如已经往文件写入3个结构体</span><br><span class="hljs-comment">//fwrite(s, sizeof(Stu), 3, fp);</span><br><br>Stu s[<span class="hljs-number">3</span>];<br>Stu tmp; <br><span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br><br><span class="hljs-comment">//文件光标读写位置从开头往右移动2个结构体的位置</span><br>fseek(fp, <span class="hljs-number">2</span> * <span class="hljs-keyword">sizeof</span>(Stu), SEEK_SET);<br><br><span class="hljs-comment">//读第3个结构体</span><br>ret = fread(&amp;tmp, <span class="hljs-keyword">sizeof</span>(Stu), <span class="hljs-number">1</span>, fp);<br><span class="hljs-keyword">if</span> (ret == <span class="hljs-number">1</span>)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;[tmp]%s, %d\n&quot;</span>, tmp.name, tmp.id);<br>&#125;<br><br><span class="hljs-comment">//把文件光标移动到文件开头</span><br><span class="hljs-comment">//fseek(fp, 0, SEEK_SET);</span><br>rewind(fp);<br><br>ret = fread(s, <span class="hljs-keyword">sizeof</span>(Stu), <span class="hljs-number">3</span>, fp);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ret = %d\n&quot;</span>, ret);<br><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>&#123;<br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;s === %s, %d\n&quot;</span>, s[i].name, s[i].id);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="10-5-Windows与Linux文本文件的区别"><a href="#10-5-Windows与Linux文本文件的区别" class="headerlink" title="10.5 Windows与Linux文本文件的区别"></a>10.5 Windows与Linux文本文件的区别</h4><blockquote>
<ul>
<li><p>b是二进制模式的意思，b只是在Windows有效，在Linux用r和rb的结果是一样的</p>
</li>
<li><p>Unix和Linux下所有的文本文件行都是\n结尾，而Windows所有的文本文件行都是\r\n结尾</p>
</li>
<li><p>在Windows平台下，以“文本”方式打开文件，不加b：</p>
</li>
<li><ul>
<li><ul>
<li>n 当读取文件的时候，系统会将所有的 “\r\n” 转换成 “\n”</li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li><ul>
<li>n 当写入文件的时候，系统会将 “\n” 转换成 “\r\n” 写入</li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li><ul>
<li>n 以”二进制”方式打开文件，则读\写都不会进行这样的转换</li>
</ul>
</li>
</ul>
</li>
<li><p>在Unix&#x2F;Linux平台下，“文本”与“二进制”模式没有区别，”\r\n” 作为两个字符原样输入输出</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> **args)</span><br>&#123;<br>	<span class="hljs-keyword">if</span> (argc &lt; <span class="hljs-number">2</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>	FILE *p = fopen(args[<span class="hljs-number">1</span>], <span class="hljs-string">&quot;rb&quot;</span>);<br>	<span class="hljs-keyword">if</span> (!p)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>	<span class="hljs-type">char</span> a[<span class="hljs-number">1024</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br>	fgets(a, <span class="hljs-keyword">sizeof</span>(a), p);<br><br>	<span class="hljs-type">int</span> len = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (a[len])<br>	&#123;<br>		<span class="hljs-keyword">if</span> (a[len] == <span class="hljs-string">&#x27;\n&#x27;</span>)<br>		&#123;<br>			<span class="hljs-keyword">if</span> (a[len - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;\r&#x27;</span>)<br>			&#123;<br>				<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;windows file\n&quot;</span>);<br>			&#125;<br>			<span class="hljs-keyword">else</span><br>			&#123;<br>				<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;linux file\n&quot;</span>);<br>			&#125;<br>		&#125;<br>		len++;<br>	&#125;<br><br>	fclose(p);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="10-6-获取文件状态"><a href="#10-6-获取文件状态" class="headerlink" title="10.6 获取文件状态"></a>10.6 获取文件状态</h4><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/types.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/stat.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">stat</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *path, <span class="hljs-keyword">struct</span> stat *buf)</span>;<br>功能：获取文件状态信息<br>参数：<br>path：文件名<br>buf：保存文件信息的结构体<br>返回值：<br>成功：<span class="hljs-number">0</span><br>失败<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stat</span> &#123;</span><br>	<span class="hljs-type">dev_t</span>         st_dev;         <span class="hljs-comment">//文件的设备编号</span><br>	<span class="hljs-type">ino_t</span>         st_ino;          <span class="hljs-comment">//节点</span><br>	<span class="hljs-type">mode_t</span>        st_mode;   <span class="hljs-comment">//文件的类型和存取的权限</span><br>	<span class="hljs-type">nlink_t</span>       st_nlink;     <span class="hljs-comment">//连到该文件的硬连接数目，刚建立的文件值为1</span><br>	<span class="hljs-type">uid_t</span>         st_uid;         <span class="hljs-comment">//用户ID</span><br>	<span class="hljs-type">gid_t</span>         st_gid;         <span class="hljs-comment">//组ID</span><br>	<span class="hljs-type">dev_t</span>         st_rdev;      <span class="hljs-comment">//(设备类型)若此文件为设备文件，则为其设备编号</span><br>	<span class="hljs-type">off_t</span>         st_size;        <span class="hljs-comment">//文件字节数(文件大小)</span><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> st_blksize;   <span class="hljs-comment">//块大小(文件系统的I/O 缓冲区大小)</span><br>	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> st_blocks;    <span class="hljs-comment">//块数</span><br>	<span class="hljs-type">time_t</span>        st_atime;     <span class="hljs-comment">//最后一次访问时间</span><br>	<span class="hljs-type">time_t</span>        st_mtime;    <span class="hljs-comment">//最后一次修改时间</span><br>	<span class="hljs-type">time_t</span>        st_ctime;     <span class="hljs-comment">//最后一次改变时间(指属性)</span><br>&#125;;<br></code></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/types.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/stat.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> **args)</span><br>&#123;<br>	<span class="hljs-keyword">if</span> (argc &lt; <span class="hljs-number">2</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stat</span> <span class="hljs-title">st</span> =</span> &#123; <span class="hljs-number">0</span> &#125;;<br><br>	stat(args[<span class="hljs-number">1</span>], &amp;st);<br>	<span class="hljs-type">int</span> size = st.st_size;<span class="hljs-comment">//得到结构体中的成员变量</span><br>	<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, size);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="10-7-删除文件、重命名文件"><a href="#10-7-删除文件、重命名文件" class="headerlink" title="10.7 删除文件、重命名文件"></a>10.7 删除文件、重命名文件</h4><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *pathname)</span>;<br>功能：删除文件<br>参数：<br>	pathname：文件名<br>返回值：<br>	成功：<span class="hljs-number">0</span><br>	失败：<span class="hljs-number">-1</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">rename</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *oldpath, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *newpath)</span>;<br>功能：把oldpath的文件名改为newpath<br>参数：<br>oldpath：旧文件名<br>newpath：新文件名<br>返回值：<br>成功：<span class="hljs-number">0</span><br>失败： - <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="10-8-文件缓冲区"><a href="#10-8-文件缓冲区" class="headerlink" title="10.8 文件缓冲区"></a>10.8 文件缓冲区</h4><h5 id="10-8-1-文件缓冲区"><a href="#10-8-1-文件缓冲区" class="headerlink" title="10.8.1 文件缓冲区"></a>10.8.1 文件缓冲区</h5><blockquote>
<p>ANSI C标准采用“缓冲文件系统”处理数据文件。</p>
<p>所谓缓冲文件系统是指系统自动地在内存区为程序中每一个正在使用的文件开辟一个文件缓冲区从内存向磁盘输出数据必须先送到内存中的缓冲区，装满缓冲区后才一起送到磁盘去。</p>
<p>如果从磁盘向计算机读入数据，则一次从磁盘文件将一批数据输入到内存缓冲区(充满缓冲区)，然后再从缓冲区逐个地将数据送到程序数据区(给程序变量) 。</p>
</blockquote>
<h5 id="10-8-2-磁盘文件的存取"><a href="#10-8-2-磁盘文件的存取" class="headerlink" title="10.8.2 磁盘文件的存取"></a>10.8.2 磁盘文件的存取</h5><blockquote>
<p><img src="/road2dasheng/img/07/clip_image002-167960256683425.jpg" srcset="/road2dasheng/img/loading.gif" lazyload alt="2016-06-06_182106"></p>
<ul>
<li><p>磁盘文件，一般保存在硬盘、U盘等掉电不丢失的磁盘设备中，在需要时调入内存</p>
</li>
<li><p>在内存中对文件进行编辑处理后，保存到磁盘中</p>
</li>
<li><p>程序与磁盘之间交互，不是立即完成，系统或程序可根据需要设置缓冲区，以提高存取效率</p>
</li>
</ul>
</blockquote>
<h5 id="10-8-3-更新缓冲区"><a href="#10-8-3-更新缓冲区" class="headerlink" title="10.8.3 更新缓冲区"></a>10.8.3 更新缓冲区</h5><blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fflush</span><span class="hljs-params">(FILE *stream)</span>;<br>功能：更新缓冲区，让缓冲区的数据立马写到文件中。<br>参数：<br>stream：文件指针<br>返回值：<br>成功：<span class="hljs-number">0</span><br>失败：<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure>


</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/road2dasheng/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/" class="category-chain-item">编程开发</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/road2dasheng/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">#编程语言</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>C语言入门视频教程-笔记</div>
      <div>https://little_stone_monkey.gitee.io/road2dasheng/07_C语言视频教程笔记/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>zhawb</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年3月24日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/road2dasheng/06_Pyhton%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0/" title="Python入门视频教程-笔记">
                        <span class="hidden-mobile">Python入门视频教程-笔记</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/road2dasheng/js/events.js" ></script>
<script  src="/road2dasheng/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/road2dasheng/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/road2dasheng/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/road2dasheng/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
